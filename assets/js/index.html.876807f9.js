"use strict";(self.webpackChunkmy_docs_test=self.webpackChunkmy_docs_test||[]).push([[470],{6262:(n,s)=>{s.A=(n,s)=>{const a=n.__vccOpts||n;for(const[n,e]of s)a[n]=e;return a}},6368:(n,s,a)=>{a.r(s),a.d(s,{comp:()=>i,data:()=>l});var e=a(641);const t={},i=(0,a(6262).A)(t,[["render",function(n,s){const a=(0,e.g2)("Catalog");return(0,e.uX)(),(0,e.CE)("div",null,[(0,e.bF)(a)])}]]),l=JSON.parse('{"path":"/components/cdm_dds/","title":"Cdm Dds","lang":"ru-RU","frontmatter":{"title":"Cdm Dds","article":false,"feed":false,"sitemap":false,"gitInclude":[]},"headers":[],"git":{},"readingTime":{"minutes":0,"words":1},"filePathRelative":null}')},8867:(n,s,a)=>{a.r(s),a.d(s,{comp:()=>q,data:()=>x});var e=a(641);const t={id:"release-2-1-0-2024-04-19",tabindex:"-1"},i={class:"header-anchor",href:"#release-2-1-0-2024-04-19"},l={href:"https://github.com/",target:"_blank",rel:"noopener noreferrer"},c=(0,e.Lk)("h3",{id:"новые-возможности",tabindex:"-1"},[(0,e.Lk)("a",{class:"header-anchor",href:"#новые-возможности"},[(0,e.Lk)("span",null,"Новые возможности")])],-1),o={href:"https://github.com/",target:"_blank",rel:"noopener noreferrer"},p=(0,e.Lk)("h3",{id:"прочее",tabindex:"-1"},[(0,e.Lk)("a",{class:"header-anchor",href:"#прочее"},[(0,e.Lk)("span",null,"Прочее")])],-1),k=(0,e.Lk)("ul",null,[(0,e.Lk)("li",null,"Добавлено название отчета в комментарий к отчету по умолчанию")],-1),r={id:"hotfix-2-0-1-2024-04-12",tabindex:"-1"},u={class:"header-anchor",href:"#hotfix-2-0-1-2024-04-12"},d={href:"https://github.com/",target:"_blank",rel:"noopener noreferrer"},L=(0,e.Lk)("h3",{id:"исправления",tabindex:"-1"},[(0,e.Lk)("a",{class:"header-anchor",href:"#исправления"},[(0,e.Lk)("span",null,"Исправления")])],-1),h=(0,e.Lk)("ul",null,[(0,e.Lk)("li",null,'Исправлено поведение, при котором в отчете отображалось "Нет данных" при значении равному 0')],-1),g={id:"release-2-0-0-2024-04-06",tabindex:"-1"},m={class:"header-anchor",href:"#release-2-0-0-2024-04-06"},v={href:"https://github.com/",target:"_blank",rel:"noopener noreferrer"},b=(0,e.Lk)("h3",{id:"значительные-изменения",tabindex:"-1"},[(0,e.Lk)("a",{class:"header-anchor",href:"#значительные-изменения"},[(0,e.Lk)("span",null,[(0,e.Lk)("strong",null,"Значительные изменения")])])],-1),W={href:"https://github.com/",target:"_blank",rel:"noopener noreferrer"},_={href:"https://github.com/",target:"_blank",rel:"noopener noreferrer"},f=(0,e.Lk)("h3",{id:"новые-возможности-1",tabindex:"-1"},[(0,e.Lk)("a",{class:"header-anchor",href:"#новые-возможности-1"},[(0,e.Lk)("span",null,"Новые возможности")])],-1),y={href:"https://github.com/",target:"_blank",rel:"noopener noreferrer"},D={},q=(0,a(6262).A)(D,[["render",function(n,s){const a=(0,e.g2)("ExternalLinkIcon");return(0,e.uX)(),(0,e.CE)("div",null,[(0,e.Lk)("h2",t,[(0,e.Lk)("a",i,[(0,e.Lk)("span",null,[(0,e.Lk)("a",l,[(0,e.eW)("Release 2.1.0"),(0,e.bF)(a)]),(0,e.eW)(" (2024-04-19)")])])]),c,(0,e.Lk)("ul",null,[(0,e.Lk)("li",null,[(0,e.eW)("Добавлена возможность настройки длительности работы SQL-сенсора ("),(0,e.Lk)("a",o,[(0,e.eW)("#FDEI-11"),(0,e.bF)(a)]),(0,e.eW)(")")])]),p,k,(0,e.Lk)("h2",r,[(0,e.Lk)("a",u,[(0,e.Lk)("span",null,[(0,e.Lk)("a",d,[(0,e.eW)("HotFix 2.0.1"),(0,e.bF)(a)]),(0,e.eW)(" (2024-04-12)")])])]),L,h,(0,e.Lk)("h2",g,[(0,e.Lk)("a",m,[(0,e.Lk)("span",null,[(0,e.Lk)("a",v,[(0,e.eW)("Release 2.0.0"),(0,e.bF)(a)]),(0,e.eW)(" (2024-04-06)")])])]),b,(0,e.Lk)("ul",null,[(0,e.Lk)("li",null,[(0,e.Lk)("strong",null,[(0,e.eW)("Настройка отчетов с помощью конфиг-файла ("),(0,e.Lk)("a",W,[(0,e.eW)("#FDEI-7"),(0,e.bF)(a)]),(0,e.eW)(")")])]),(0,e.Lk)("li",null,[(0,e.Lk)("strong",null,[(0,e.eW)("DAG'и разделены на продукты по шаблону daily_reporting_{имя продукта} ("),(0,e.Lk)("a",_,[(0,e.eW)("#FDEI-8"),(0,e.bF)(a)]),(0,e.eW)(")")])])]),f,(0,e.Lk)("ul",null,[(0,e.Lk)("li",null,[(0,e.eW)("Добавлена возможность выбора конкретных аналитических срезов для каждой метрики независимо ("),(0,e.Lk)("a",y,[(0,e.eW)("#FDEI-11"),(0,e.bF)(a)]),(0,e.eW)(")")])])])}]]),x=JSON.parse('{"path":"/components/daily_reporting/changelog/","title":"Changelog","lang":"ru-RU","frontmatter":{"author":"David Khoperiya","title":"Changelog","date":"2024-04-18T00:00:00.000Z","editLink":false,"pageview":false,"copyright":false,"footer":"Ozon.FinTech © 2024-2024 All rights reserved."},"headers":[{"level":2,"title":"Release 2.1.0 (2024-04-19)","slug":"release-2-1-0-2024-04-19","link":"#release-2-1-0-2024-04-19","children":[{"level":3,"title":"Новые возможности","slug":"новые-возможности","link":"#новые-возможности","children":[]},{"level":3,"title":"Прочее","slug":"прочее","link":"#прочее","children":[]}]},{"level":2,"title":"HotFix 2.0.1 (2024-04-12)","slug":"hotfix-2-0-1-2024-04-12","link":"#hotfix-2-0-1-2024-04-12","children":[{"level":3,"title":"Исправления","slug":"исправления","link":"#исправления","children":[]}]},{"level":2,"title":"Release 2.0.0 (2024-04-06)","slug":"release-2-0-0-2024-04-06","link":"#release-2-0-0-2024-04-06","children":[{"level":3,"title":"Значительные изменения","slug":"значительные-изменения","link":"#значительные-изменения","children":[]},{"level":3,"title":"Новые возможности","slug":"новые-возможности-1","link":"#новые-возможности-1","children":[]}]}],"git":{"createdTime":1713533928000,"updatedTime":1713641916000,"contributors":[{"name":"dkhoperiya","email":"dkhoperiya@ozon.ru","commits":1}]},"readingTime":{"minutes":0.41,"words":122},"filePathRelative":"components/daily_reporting/changelog/README.md","localizedDate":"18 апреля 2024 г."}')},6972:(n,s,a)=>{a.r(s),a.d(s,{comp:()=>g,data:()=>m});var e=a(641);const t=(0,e.Lk)("h2",{id:"структура",tabindex:"-1"},[(0,e.Lk)("a",{class:"header-anchor",href:"#структура"},[(0,e.Lk)("span",null,"Структура")])],-1),i={id:"_1-overview",tabindex:"-1"},l={class:"header-anchor",href:"#_1-overview"},c={id:"_2-quick-start",tabindex:"-1"},o={class:"header-anchor",href:"#_2-quick-start"},p={id:"_3-user-guide",tabindex:"-1"},k={class:"header-anchor",href:"#_3-user-guide"},r={id:"_4-python-api",tabindex:"-1"},u={class:"header-anchor",href:"#_4-python-api"},d={id:"_5-changelog",tabindex:"-1"},L={class:"header-anchor",href:"#_5-changelog"},h={},g=(0,a(6262).A)(h,[["render",function(n,s){const a=(0,e.g2)("RouteLink");return(0,e.uX)(),(0,e.CE)("div",null,[t,(0,e.Lk)("h4",i,[(0,e.Lk)("a",l,[(0,e.Lk)("span",null,[(0,e.eW)("1. "),(0,e.bF)(a,{to:"/components/daily_reporting/overview/"},{default:(0,e.k6)((()=>[(0,e.eW)("Overview")])),_:1})])])]),(0,e.Lk)("h4",c,[(0,e.Lk)("a",o,[(0,e.Lk)("span",null,[(0,e.eW)("2. "),(0,e.bF)(a,{to:"/components/daily_reporting/quick_start/"},{default:(0,e.k6)((()=>[(0,e.eW)("Quick Start")])),_:1})])])]),(0,e.Lk)("h4",p,[(0,e.Lk)("a",k,[(0,e.Lk)("span",null,[(0,e.eW)("3. "),(0,e.bF)(a,{to:"/components/daily_reporting/user_guide/"},{default:(0,e.k6)((()=>[(0,e.eW)("User Guide")])),_:1})])])]),(0,e.Lk)("h4",r,[(0,e.Lk)("a",u,[(0,e.Lk)("span",null,[(0,e.eW)("4. "),(0,e.bF)(a,{to:"/components/daily_reporting/python_api/"},{default:(0,e.k6)((()=>[(0,e.eW)("Python API")])),_:1})])])]),(0,e.Lk)("h4",d,[(0,e.Lk)("a",L,[(0,e.Lk)("span",null,[(0,e.eW)("5. "),(0,e.bF)(a,{to:"/components/daily_reporting/changelog/"},{default:(0,e.k6)((()=>[(0,e.eW)("Changelog")])),_:1})])])])])}]]),m=JSON.parse('{"path":"/components/daily_reporting/","title":"Daily Reporting 2.0","lang":"ru-RU","frontmatter":{"author":"David Khoperiya","title":"Daily Reporting 2.0","icon":"image","date":"2024-04-18T00:00:00.000Z","editLink":false,"pageview":false,"copyright":false,"footer":"Ozon.FinTech © 2024-2024 All rights reserved."},"headers":[{"level":2,"title":"Структура","slug":"структура","link":"#структура","children":[]}],"git":{"createdTime":1713563257000,"updatedTime":1713641916000,"contributors":[{"name":"dkhoperiya","email":"dkhoperiya@ozon.ru","commits":2}]},"readingTime":{"minutes":0.15,"words":45},"filePathRelative":"components/daily_reporting/README.md","localizedDate":"18 апреля 2024 г."}')},984:(n,s,a)=>{a.r(s),a.d(s,{comp:()=>l,data:()=>c});var e=a(641);const t=[(0,e.Fv)('<h2 id="описание-решения" tabindex="-1"><a class="header-anchor" href="#описание-решения"><span>Описание решения</span></a></h2><p>Daily Reporting 2.0 - вторая версия компоненты для Apache Airflow, предназначенная для автоматизации формирования и поставки ежедневных отчетов на основании ключевых метрик в каналы MatterMost.</p><p>Относится к критическим компонентам и находится под постоянным контролем дежурного FDE.</p><p><strong>Дата последнего изменения:</strong> 16.04.2024</p><p><strong>Актуальная версия:</strong> 2.0.0</p><p><strong>Полезные ссылки:</strong> <a href="">Gitlab</a> | <a href="">Airflow</a></p><p>О<strong>тветственный со стороны FDE:</strong> <a href="">Chirgin Maksim Aleksandrovich</a></p><h2 id="faq" tabindex="-1"><a class="header-anchor" href="#faq"><span>FAQ</span></a></h2><details class="hint-container details"><summary>Я создал конфиг-словарь для своего продукта, но DAG не появился в Airflow UI, почему?</summary><p>Для того, чтобы ваш DAG появился в Airflow UI необходимо активировать конфиг-словарь, указав его название в списке <code>active_daily_reports</code>, расположенном в файле <a href="">daily_reporting_dict.py</a>.</p></details>',9)],i={},l=(0,a(6262).A)(i,[["render",function(n,s){return(0,e.uX)(),(0,e.CE)("div",null,t)}]]),c=JSON.parse('{"path":"/components/daily_reporting/overview/","title":"Overview","lang":"ru-RU","frontmatter":{"author":"David Khoperiya","title":"Overview","date":"2024-04-18T00:00:00.000Z","editLink":false,"pageview":false,"copyright":false,"footer":"Ozon.FinTech © 2024-2024 All rights reserved."},"headers":[{"level":2,"title":"Описание решения","slug":"описание-решения","link":"#описание-решения","children":[]},{"level":2,"title":"FAQ","slug":"faq","link":"#faq","children":[]}],"git":{"createdTime":1713533928000,"updatedTime":1713641916000,"contributors":[{"name":"dkhoperiya","email":"dkhoperiya@ozon.ru","commits":1}]},"readingTime":{"minutes":0.4,"words":119},"filePathRelative":"components/daily_reporting/overview/README.md","localizedDate":"18 апреля 2024 г."}')},7936:(n,s,a)=>{a.r(s),a.d(s,{comp:()=>o,data:()=>p});var e=a(641);const t=(0,e.Fv)('<p>Данный раздел поможет вам быстро создать простой отчет с базовыми настройками на основании компоненты Daily Reporting 2.0.</p><h2 id="начальные-требования" tabindex="-1"><a class="header-anchor" href="#начальные-требования"><span>Начальные требования</span></a></h2><p>Для работы с компонентов Daily Reporting 2.0 у вас должен быть клонирован репозиторий <a href="">airflow-bank-dags</a> и иметься необходимые для него права.</p><p>Подробнее об этом можно узнать у дежурного инженера в канале <a href="">fintech_data</a> с помощью тега <code>@fde_duty</code>.</p><h2 id="создание-ветки-hotfix" tabindex="-1"><a class="header-anchor" href="#создание-ветки-hotfix"><span>Создание ветки Hotfix</span></a></h2><p>Для внесения изменений в конфигурация отчетов Daily Reporting необходимо обязательно создать новую ветку с типом <code>Hotfix</code>:</p><div class="language-commandline line-numbers-mode" data-ext="commandline" data-title="commandline"><pre class="language-commandline"><code>git checkout master\ngit pull\ngit checkout -b hotfix/FDEI-0\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="создание-базового-отчета" tabindex="-1"><a class="header-anchor" href="#создание-базового-отчета"><span>Создание базового отчета</span></a></h2><p>Создание нового отчета начинается с создания конфиг-словаря для своего продукта в файле <a href="">daily_reporting_dict_new.py</a>.</p><p>Попробуем создать простой отчет с базовыми настройками для продута &quot;super_credit&quot;, который будет состоять всего из одной метрики:</p>',10),i=(0,e.Lk)("div",{class:"language-python line-numbers-mode","data-ext":"py","data-title":"py"},[(0,e.Lk)("pre",{python:"",class:"language-python"},[(0,e.Lk)("code",null,[(0,e.eW)("super_credit_reports "),(0,e.Lk)("span",{class:"token operator"},"="),(0,e.eW)(),(0,e.Lk)("span",{class:"token punctuation"},"{"),(0,e.eW)("\n    "),(0,e.Lk)("span",{class:"token string"},'"product_name"'),(0,e.Lk)("span",{class:"token punctuation"},":"),(0,e.eW)(),(0,e.Lk)("span",{class:"token string"},'"super_credit"'),(0,e.Lk)("span",{class:"token punctuation"},","),(0,e.eW)(" \n    "),(0,e.Lk)("span",{class:"token string"},'"owner"'),(0,e.Lk)("span",{class:"token punctuation"},":"),(0,e.eW)(),(0,e.Lk)("span",{class:"token string"},'"ivivanov"'),(0,e.Lk)("span",{class:"token punctuation"},","),(0,e.eW)("          \n    "),(0,e.Lk)("span",{class:"token string"},'"start_date"'),(0,e.Lk)("span",{class:"token punctuation"},":"),(0,e.eW)(),(0,e.Lk)("span",{class:"token string"},'"2024-04-16"'),(0,e.Lk)("span",{class:"token punctuation"},","),(0,e.eW)("    \n    "),(0,e.Lk)("span",{class:"token string"},'"reports"'),(0,e.Lk)("span",{class:"token punctuation"},":"),(0,e.eW)(),(0,e.Lk)("span",{class:"token punctuation"},"["),(0,e.eW)("\n        "),(0,e.Lk)("span",{class:"token punctuation"},"{"),(0,e.eW)("\n            "),(0,e.Lk)("span",{class:"token string"},'"report_name"'),(0,e.Lk)("span",{class:"token punctuation"},":"),(0,e.eW)(),(0,e.Lk)("span",{class:"token string"},'"Super Credit Metrics"'),(0,e.Lk)("span",{class:"token punctuation"},","),(0,e.eW)("\n            "),(0,e.Lk)("span",{class:"token string"},'"channel_name"'),(0,e.Lk)("span",{class:"token punctuation"},":"),(0,e.eW)(),(0,e.Lk)("span",{class:"token string"},'"super_credit_mm_channel"'),(0,e.Lk)("span",{class:"token punctuation"},","),(0,e.eW)("\n            "),(0,e.Lk)("span",{class:"token string"},'"metrics"'),(0,e.Lk)("span",{class:"token punctuation"},":"),(0,e.eW)(),(0,e.Lk)("span",{class:"token punctuation"},"["),(0,e.eW)("\n    \t        "),(0,e.Lk)("span",{class:"token punctuation"},"{"),(0,e.eW)("\n                    "),(0,e.Lk)("span",{class:"token string"},'"metric_name"'),(0,e.Lk)("span",{class:"token punctuation"},":"),(0,e.eW)(),(0,e.Lk)("span",{class:"token string"},'"Количество богатых людей"'),(0,e.Lk)("span",{class:"token punctuation"},","),(0,e.eW)("\n                    "),(0,e.Lk)("span",{class:"token string"},'"product_id"'),(0,e.Lk)("span",{class:"token punctuation"},":"),(0,e.eW)(),(0,e.Lk)("span",{class:"token number"},"999"),(0,e.Lk)("span",{class:"token punctuation"},","),(0,e.eW)("\n                    "),(0,e.Lk)("span",{class:"token string"},'"query"'),(0,e.Lk)("span",{class:"token punctuation"},":"),(0,e.eW)(),(0,e.Lk)("span",{class:"token punctuation"},"{"),(0,e.eW)("\n                        "),(0,e.Lk)("span",{class:"token string"},'"column_name"'),(0,e.Lk)("span",{class:"token punctuation"},":"),(0,e.eW)(),(0,e.Lk)("span",{class:"token string"},'"rich_people_cnt"'),(0,e.Lk)("span",{class:"token punctuation"},","),(0,e.eW)("\n                        "),(0,e.Lk)("span",{class:"token string"},'"table_name"'),(0,e.Lk)("span",{class:"token punctuation"},":"),(0,e.eW)(),(0,e.Lk)("span",{class:"token string"},'"fintech_mart_team.cdm_super_credit_table"'),(0,e.Lk)("span",{class:"token punctuation"},","),(0,e.eW)("\n                    "),(0,e.Lk)("span",{class:"token punctuation"},"}"),(0,e.Lk)("span",{class:"token punctuation"},","),(0,e.eW)("\n                    "),(0,e.Lk)("span",{class:"token string"},'"appearance"'),(0,e.Lk)("span",{class:"token punctuation"},":"),(0,e.eW)(),(0,e.Lk)("span",{class:"token punctuation"},"{"),(0,e.eW)("\n                    "),(0,e.Lk)("span",{class:"token string"},'"priority"'),(0,e.Lk)("span",{class:"token punctuation"},":"),(0,e.eW)(),(0,e.Lk)("span",{class:"token number"},"0"),(0,e.Lk)("span",{class:"token punctuation"},","),(0,e.eW)("\n                    "),(0,e.Lk)("span",{class:"token punctuation"},"}"),(0,e.Lk)("span",{class:"token punctuation"},","),(0,e.eW)("\n                "),(0,e.Lk)("span",{class:"token punctuation"},"}"),(0,e.Lk)("span",{class:"token punctuation"},","),(0,e.eW)("\n            "),(0,e.Lk)("span",{class:"token punctuation"},"]"),(0,e.eW)("\n        "),(0,e.Lk)("span",{class:"token punctuation"},"}"),(0,e.Lk)("span",{class:"token punctuation"},","),(0,e.eW)("\n    "),(0,e.Lk)("span",{class:"token punctuation"},"]"),(0,e.eW)("             \n"),(0,e.Lk)("span",{class:"token punctuation"},"}"),(0,e.eW)("\n")])]),(0,e.Lk)("div",{class:"highlight-lines"},[(0,e.Lk)("br"),(0,e.Lk)("br"),(0,e.Lk)("br"),(0,e.Lk)("br"),(0,e.Lk)("div",{class:"highlight-line"}," "),(0,e.Lk)("div",{class:"highlight-line"}," "),(0,e.Lk)("div",{class:"highlight-line"}," "),(0,e.Lk)("div",{class:"highlight-line"}," "),(0,e.Lk)("div",{class:"highlight-line"}," "),(0,e.Lk)("div",{class:"highlight-line"}," "),(0,e.Lk)("div",{class:"highlight-line"}," "),(0,e.Lk)("div",{class:"highlight-line"}," "),(0,e.Lk)("div",{class:"highlight-line"}," "),(0,e.Lk)("div",{class:"highlight-line"}," "),(0,e.Lk)("div",{class:"highlight-line"}," "),(0,e.Lk)("div",{class:"highlight-line"}," "),(0,e.Lk)("div",{class:"highlight-line"}," "),(0,e.Lk)("div",{class:"highlight-line"}," "),(0,e.Lk)("div",{class:"highlight-line"}," "),(0,e.Lk)("div",{class:"highlight-line"}," "),(0,e.Lk)("div",{class:"highlight-line"}," "),(0,e.Lk)("div",{class:"highlight-line"}," "),(0,e.Lk)("div",{class:"highlight-line"}," "),(0,e.Lk)("br")]),(0,e.Lk)("div",{class:"line-numbers","aria-hidden":"true"},[(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"})])],-1),l=(0,e.Fv)('<div class="hint-container important"><p class="hint-container-title">Важно</p><p>Не оставляйте в ключах <code>reports</code> и <code>metrics</code> пустые списки, это вызовет ошибку парсинга и формирования DAG&#39;а.</p></div><h2 id="активация-dag-а" tabindex="-1"><a class="header-anchor" href="#активация-dag-а"><span>Активация DAG&#39;а</span></a></h2><p>Для активации DAG&#39;а продукта необходимо добавить его в список <code>active_daily_reports</code>, расположенный в нижней части редактируемого файла:</p><div class="language-python line-numbers-mode" data-ext="py" data-title="py"><pre class="language-python"><code>active_daily_reports <span class="token operator">=</span> <span class="token punctuation">[</span>\n    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">,</span>\n \tsuper_credit_reports\n<span class="token punctuation">]</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="сохранение-изменении" tabindex="-1"><a class="header-anchor" href="#сохранение-изменении"><span>Сохранение изменений</span></a></h2><p>После окончания редактирования файла необходимо:</p><ul><li>зафиксировать изменения (<code>commit</code>)</li><li>отправить изменения в GitLab (<code>push</code>)</li><li>создать и выполнить запрос на слияние (<code>merge</code>)</li></ul><div class="language-commandline line-numbers-mode" data-ext="commandline" data-title="commandline"><pre class="language-commandline"><code>git commit .\ngit push origin hotfix/FDEI-0\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>После этого в GitLab UI необходимо создать <code>Merge Request</code> и завершить слияние веток.</p><h2 id="добавление-бота-в-канал" tabindex="-1"><a class="header-anchor" href="#добавление-бота-в-канал"><span>Добавление бота в канал</span></a></h2><p>Для того, чтобы компонента Daily Reporting 2.0 могла отправлять отчеты в выбранный канал MatterMost необходимо добавить бота <code>fintech_alert</code> в ваш канал.</p><figure><img src="/assets/image/fintech_alert_check.png" alt="Бот должен быть участником канала" height="300" tabindex="0" loading="lazy"><figcaption>Бот должен быть участником канала</figcaption></figure><h2 id="запуск-dag-а-в-airflow-ui" tabindex="-1"><a class="header-anchor" href="#запуск-dag-а-в-airflow-ui"><span>Запуск DAG&#39;а в Airflow UI</span></a></h2><p>Созданный компонентной Daily Reportin 2.0 DAG будет называться по паттерну <code>daily_reporting_ + название продукта</code>, в нашем случае это <code>daily_reporting_super_credit</code>.</p><p>На это этапе можно запускать DAG и ждать сформированного отчета.</p><figure><img src="/assets/image/daily_reporting_quick_start_2.png" alt="Не забудьте снять DAG с паузы" height="300" tabindex="0" loading="lazy"><figcaption>Не забудьте снять DAG с паузы</figcaption></figure><h2 id="проверка-отчета" tabindex="-1"><a class="header-anchor" href="#проверка-отчета"><span>Проверка отчета</span></a></h2><p>После завершения выполнения DAG&#39;а в выбранный ранее канал MatterMost придет готовый отчет за конкретную дату с настройками по-умолчанию.</p><figure><img src="/assets/image/daily_reporting_quick_start_3.png" alt="По умолчанию внешний вид отчета не самый лучший" tabindex="0" loading="lazy"><figcaption>По умолчанию внешний вид отчета не самый лучший</figcaption></figure><div class="hint-container info"><p class="hint-container-title">Инфо</p><p>Хоть мы и не указывали комментарий к отчету, он сгенерировался автоматически, а сам отчет без указания конкретных аналитических срезов использует все доступные срезы по умолчанию.</p></div><h1 id="что-дальше" tabindex="-1"><a class="header-anchor" href="#что-дальше"><span>Что дальше?</span></a></h1>',21),c={},o=(0,a(6262).A)(c,[["render",function(n,s){const a=(0,e.g2)("RouteLink");return(0,e.uX)(),(0,e.CE)("div",null,[t,i,l,(0,e.Lk)("p",null,[(0,e.eW)("С этого момента вы можете перейти в раздел "),(0,e.bF)(a,{to:"/components/daily_reporting/quick_start/user_guide.html"},{default:(0,e.k6)((()=>[(0,e.eW)("User Guide")])),_:1}),(0,e.eW)(" для знакомства с дополнительными возможностями настройки отчетов Daily Reporting 2.0 или ознакомиться с технической стороной работы компоненты в разделе "),(0,e.bF)(a,{to:"/components/daily_reporting/quick_start/python_api.html"},{default:(0,e.k6)((()=>[(0,e.eW)("Python API")])),_:1}),(0,e.eW)(".")])])}]]),p=JSON.parse('{"path":"/components/daily_reporting/quick_start/","title":"Quick Start","lang":"ru-RU","frontmatter":{"author":"David Khoperiya","title":"Quick Start","date":"2024-04-18T00:00:00.000Z","editLink":false,"pageview":false,"copyright":false,"footer":"Ozon.FinTech © 2024-2024 All rights reserved."},"headers":[{"level":2,"title":"Начальные требования","slug":"начальные-требования","link":"#начальные-требования","children":[]},{"level":2,"title":"Создание ветки Hotfix","slug":"создание-ветки-hotfix","link":"#создание-ветки-hotfix","children":[]},{"level":2,"title":"Создание базового отчета","slug":"создание-базового-отчета","link":"#создание-базового-отчета","children":[]},{"level":2,"title":"Активация DAG\'а","slug":"активация-dag-а","link":"#активация-dag-а","children":[]},{"level":2,"title":"Сохранение изменений","slug":"сохранение-изменении","link":"#сохранение-изменении","children":[]},{"level":2,"title":"Добавление бота в канал","slug":"добавление-бота-в-канал","link":"#добавление-бота-в-канал","children":[]},{"level":2,"title":"Запуск DAG\'а в Airflow UI","slug":"запуск-dag-а-в-airflow-ui","link":"#запуск-dag-а-в-airflow-ui","children":[]},{"level":2,"title":"Проверка отчета","slug":"проверка-отчета","link":"#проверка-отчета","children":[]}],"git":{"createdTime":1713533928000,"updatedTime":1713641916000,"contributors":[{"name":"dkhoperiya","email":"dkhoperiya@ozon.ru","commits":1}]},"readingTime":{"minutes":1.44,"words":433},"filePathRelative":"components/daily_reporting/quick_start/README.md","localizedDate":"18 апреля 2024 г."}')},4757:(n,s,a)=>{a.r(s),a.d(s,{comp:()=>l,data:()=>c});var e=a(641);const t=[(0,e.Fv)('<p>В данном разделе рассматриваются дополнительные кейсы настройки отчетов компоненты Daily Reporting 2.0.</p><h2 id="настроики-отчета" tabindex="-1"><a class="header-anchor" href="#настроики-отчета"><span>Настройки отчета</span></a></h2><h3 id="расписания" tabindex="-1"><a class="header-anchor" href="#расписания"><span>Расписания</span></a></h3><div class="hint-container tip"><p class="hint-container-title">Совет</p><p>Данная настройка является необязательной, при пропуске ключа будут применены настройки по умолчанию.</p></div><p>Для настройки расписания вашего отчета используется ключ <code>schedule</code>:</p>',5),(0,e.Lk)("div",{class:"language-python line-numbers-mode","data-ext":"py","data-title":"py"},[(0,e.Lk)("pre",{python:"",class:"language-python"},[(0,e.Lk)("code",null,[(0,e.eW)("super_credit_reports "),(0,e.Lk)("span",{class:"token operator"},"="),(0,e.eW)(),(0,e.Lk)("span",{class:"token punctuation"},"{"),(0,e.eW)("\n    "),(0,e.Lk)("span",{class:"token string"},'"product_name"'),(0,e.Lk)("span",{class:"token punctuation"},":"),(0,e.eW)(),(0,e.Lk)("span",{class:"token string"},'"super_credit"'),(0,e.Lk)("span",{class:"token punctuation"},","),(0,e.eW)("\n    "),(0,e.Lk)("span",{class:"token string"},'"owner"'),(0,e.Lk)("span",{class:"token punctuation"},":"),(0,e.eW)(),(0,e.Lk)("span",{class:"token string"},'"ivivanov"'),(0,e.Lk)("span",{class:"token punctuation"},","),(0,e.eW)("\n    "),(0,e.Lk)("span",{class:"token string"},'"start_date"'),(0,e.Lk)("span",{class:"token punctuation"},":"),(0,e.eW)(),(0,e.Lk)("span",{class:"token string"},'"2024-04-16"'),(0,e.Lk)("span",{class:"token punctuation"},","),(0,e.eW)("\n    "),(0,e.Lk)("span",{class:"token string"},'"reports"'),(0,e.Lk)("span",{class:"token punctuation"},":"),(0,e.eW)(),(0,e.Lk)("span",{class:"token punctuation"},"["),(0,e.eW)("\n        "),(0,e.Lk)("span",{class:"token punctuation"},"{"),(0,e.eW)("\n            "),(0,e.Lk)("span",{class:"token string"},'"report_name"'),(0,e.Lk)("span",{class:"token punctuation"},":"),(0,e.eW)(),(0,e.Lk)("span",{class:"token string"},'"Super Credit Report"'),(0,e.Lk)("span",{class:"token punctuation"},","),(0,e.eW)("\n            "),(0,e.Lk)("span",{class:"token string"},'"channel_name"'),(0,e.Lk)("span",{class:"token punctuation"},":"),(0,e.eW)(),(0,e.Lk)("span",{class:"token string"},'"super_credit_mm_channel"'),(0,e.Lk)("span",{class:"token punctuation"},","),(0,e.eW)("\n            "),(0,e.Lk)("span",{class:"token string"},'"schedule"'),(0,e.Lk)("span",{class:"token punctuation"},":"),(0,e.eW)(),(0,e.Lk)("span",{class:"token punctuation"},"{"),(0,e.eW)("\n                "),(0,e.Lk)("span",{class:"token string"},'"time"'),(0,e.Lk)("span",{class:"token punctuation"},":"),(0,e.eW)(),(0,e.Lk)("span",{class:"token string"},'"11:30:00"'),(0,e.Lk)("span",{class:"token punctuation"},","),(0,e.eW)("\n                "),(0,e.Lk)("span",{class:"token string"},'"active_week_days"'),(0,e.Lk)("span",{class:"token punctuation"},":"),(0,e.eW)(),(0,e.Lk)("span",{class:"token punctuation"},"{"),(0,e.eW)("\n                    "),(0,e.Lk)("span",{class:"token string"},'"Monday"'),(0,e.Lk)("span",{class:"token punctuation"},":"),(0,e.eW)(),(0,e.Lk)("span",{class:"token boolean"},"True"),(0,e.Lk)("span",{class:"token punctuation"},","),(0,e.eW)("\n                    "),(0,e.Lk)("span",{class:"token string"},'"Tuesday"'),(0,e.Lk)("span",{class:"token punctuation"},":"),(0,e.eW)(),(0,e.Lk)("span",{class:"token boolean"},"True"),(0,e.Lk)("span",{class:"token punctuation"},","),(0,e.eW)("\n                    "),(0,e.Lk)("span",{class:"token string"},'"Wednesday"'),(0,e.Lk)("span",{class:"token punctuation"},":"),(0,e.eW)(),(0,e.Lk)("span",{class:"token boolean"},"True"),(0,e.Lk)("span",{class:"token punctuation"},","),(0,e.eW)("\n                    "),(0,e.Lk)("span",{class:"token string"},'"Thursday"'),(0,e.Lk)("span",{class:"token punctuation"},":"),(0,e.eW)(),(0,e.Lk)("span",{class:"token boolean"},"True"),(0,e.Lk)("span",{class:"token punctuation"},","),(0,e.eW)("\n                    "),(0,e.Lk)("span",{class:"token string"},'"Friday"'),(0,e.Lk)("span",{class:"token punctuation"},":"),(0,e.eW)(),(0,e.Lk)("span",{class:"token boolean"},"True"),(0,e.Lk)("span",{class:"token punctuation"},","),(0,e.eW)("\n                    "),(0,e.Lk)("span",{class:"token string"},'"Saturday"'),(0,e.Lk)("span",{class:"token punctuation"},":"),(0,e.eW)(),(0,e.Lk)("span",{class:"token boolean"},"False"),(0,e.Lk)("span",{class:"token punctuation"},","),(0,e.eW)("\n                    "),(0,e.Lk)("span",{class:"token string"},'"Sunday"'),(0,e.Lk)("span",{class:"token punctuation"},":"),(0,e.eW)(),(0,e.Lk)("span",{class:"token boolean"},"False"),(0,e.eW)("\n                "),(0,e.Lk)("span",{class:"token punctuation"},"}"),(0,e.Lk)("span",{class:"token punctuation"},","),(0,e.eW)("\n            "),(0,e.Lk)("span",{class:"token punctuation"},"}"),(0,e.Lk)("span",{class:"token punctuation"},","),(0,e.eW)("\n            "),(0,e.Lk)("span",{class:"token string"},'"metrics"'),(0,e.Lk)("span",{class:"token punctuation"},":"),(0,e.eW)(),(0,e.Lk)("span",{class:"token punctuation"},"["),(0,e.Lk)("span",{class:"token punctuation"},"]"),(0,e.eW)("\n        "),(0,e.Lk)("span",{class:"token punctuation"},"}"),(0,e.Lk)("span",{class:"token punctuation"},","),(0,e.eW)("\n    "),(0,e.Lk)("span",{class:"token punctuation"},"]"),(0,e.eW)("\n"),(0,e.Lk)("span",{class:"token punctuation"},"}"),(0,e.eW)("\n")])]),(0,e.Lk)("div",{class:"highlight-lines"},[(0,e.Lk)("br"),(0,e.Lk)("br"),(0,e.Lk)("br"),(0,e.Lk)("br"),(0,e.Lk)("br"),(0,e.Lk)("br"),(0,e.Lk)("br"),(0,e.Lk)("br"),(0,e.Lk)("div",{class:"highlight-line"}," "),(0,e.Lk)("div",{class:"highlight-line"}," "),(0,e.Lk)("div",{class:"highlight-line"}," "),(0,e.Lk)("div",{class:"highlight-line"}," "),(0,e.Lk)("div",{class:"highlight-line"}," "),(0,e.Lk)("div",{class:"highlight-line"}," "),(0,e.Lk)("div",{class:"highlight-line"}," "),(0,e.Lk)("div",{class:"highlight-line"}," "),(0,e.Lk)("div",{class:"highlight-line"}," "),(0,e.Lk)("div",{class:"highlight-line"}," "),(0,e.Lk)("div",{class:"highlight-line"}," "),(0,e.Lk)("div",{class:"highlight-line"}," "),(0,e.Lk)("br"),(0,e.Lk)("br"),(0,e.Lk)("br"),(0,e.Lk)("br")]),(0,e.Lk)("div",{class:"line-numbers","aria-hidden":"true"},[(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"})])],-1),(0,e.Fv)('<details class="hint-container details"><summary>Описание ключей</summary><ul><li><p><code>time</code> — необязательный</p><p>Время запуска формирования отчета по UTC. По умолчанию — <code>09:00:00</code>.</p></li><li><p><code>active_week_days</code> — необязательный</p><p>Словарь дней недели, в которые отчет должен быть отправлен в канал. По умолчанию — ежедневно.</p></li></ul></details><h3 id="подключение" tabindex="-1"><a class="header-anchor" href="#подключение"><span>Подключение</span></a></h3><div class="hint-container tip"><p class="hint-container-title">Совет</p><p>Данная настройка является необязательной, при пропуске ключа будут применены настройки по умолчанию.</p></div><p>Для настройки подключения к БД для вашего отчета используется ключ <code>conn_settings</code>:</p>',4),(0,e.Lk)("div",{class:"language-python line-numbers-mode","data-ext":"py","data-title":"py"},[(0,e.Lk)("pre",{python:"",class:"language-python"},[(0,e.Lk)("code",null,[(0,e.eW)("super_credit_reports "),(0,e.Lk)("span",{class:"token operator"},"="),(0,e.eW)(),(0,e.Lk)("span",{class:"token punctuation"},"{"),(0,e.eW)("\n    "),(0,e.Lk)("span",{class:"token string"},'"product_name"'),(0,e.Lk)("span",{class:"token punctuation"},":"),(0,e.eW)(),(0,e.Lk)("span",{class:"token string"},'"super_credit"'),(0,e.Lk)("span",{class:"token punctuation"},","),(0,e.eW)("\n    "),(0,e.Lk)("span",{class:"token string"},'"owner"'),(0,e.Lk)("span",{class:"token punctuation"},":"),(0,e.eW)(),(0,e.Lk)("span",{class:"token string"},'"ivivanov"'),(0,e.Lk)("span",{class:"token punctuation"},","),(0,e.eW)("\n    "),(0,e.Lk)("span",{class:"token string"},'"start_date"'),(0,e.Lk)("span",{class:"token punctuation"},":"),(0,e.eW)(),(0,e.Lk)("span",{class:"token string"},'"2024-04-16"'),(0,e.Lk)("span",{class:"token punctuation"},","),(0,e.eW)("\n    "),(0,e.Lk)("span",{class:"token string"},'"reports"'),(0,e.Lk)("span",{class:"token punctuation"},":"),(0,e.eW)(),(0,e.Lk)("span",{class:"token punctuation"},"["),(0,e.eW)("\n        "),(0,e.Lk)("span",{class:"token punctuation"},"{"),(0,e.eW)("\n            "),(0,e.Lk)("span",{class:"token string"},'"report_name"'),(0,e.Lk)("span",{class:"token punctuation"},":"),(0,e.eW)(),(0,e.Lk)("span",{class:"token string"},'"Super Credit Report"'),(0,e.Lk)("span",{class:"token punctuation"},","),(0,e.eW)("\n            "),(0,e.Lk)("span",{class:"token string"},'"channel_name"'),(0,e.Lk)("span",{class:"token punctuation"},":"),(0,e.eW)(),(0,e.Lk)("span",{class:"token string"},'"super_credit_mm_channel"'),(0,e.Lk)("span",{class:"token punctuation"},","),(0,e.eW)("\n            "),(0,e.Lk)("span",{class:"token string"},'"conn_settings"'),(0,e.Lk)("span",{class:"token punctuation"},":"),(0,e.eW)(),(0,e.Lk)("span",{class:"token punctuation"},"{"),(0,e.eW)("\n                "),(0,e.Lk)("span",{class:"token string"},'"conn_id"'),(0,e.Lk)("span",{class:"token punctuation"},":"),(0,e.eW)(),(0,e.Lk)("span",{class:"token string"},'"fintech_v"'),(0,e.Lk)("span",{class:"token punctuation"},","),(0,e.eW)("\n                "),(0,e.Lk)("span",{class:"token string"},'"conn_type"'),(0,e.Lk)("span",{class:"token punctuation"},":"),(0,e.eW)(),(0,e.Lk)("span",{class:"token string"},'"vertica"'),(0,e.Lk)("span",{class:"token punctuation"},","),(0,e.eW)("\n            "),(0,e.Lk)("span",{class:"token punctuation"},"}"),(0,e.Lk)("span",{class:"token punctuation"},","),(0,e.eW)("\n            "),(0,e.Lk)("span",{class:"token string"},'"metrics"'),(0,e.Lk)("span",{class:"token punctuation"},":"),(0,e.eW)(),(0,e.Lk)("span",{class:"token punctuation"},"["),(0,e.Lk)("span",{class:"token punctuation"},"]"),(0,e.eW)("\n        "),(0,e.Lk)("span",{class:"token punctuation"},"}"),(0,e.Lk)("span",{class:"token punctuation"},","),(0,e.eW)("\n    "),(0,e.Lk)("span",{class:"token punctuation"},"]"),(0,e.eW)("\n"),(0,e.Lk)("span",{class:"token punctuation"},"}"),(0,e.eW)("\n")])]),(0,e.Lk)("div",{class:"highlight-lines"},[(0,e.Lk)("br"),(0,e.Lk)("br"),(0,e.Lk)("br"),(0,e.Lk)("br"),(0,e.Lk)("br"),(0,e.Lk)("br"),(0,e.Lk)("br"),(0,e.Lk)("br"),(0,e.Lk)("div",{class:"highlight-line"}," "),(0,e.Lk)("div",{class:"highlight-line"}," "),(0,e.Lk)("div",{class:"highlight-line"}," "),(0,e.Lk)("div",{class:"highlight-line"}," "),(0,e.Lk)("br"),(0,e.Lk)("br"),(0,e.Lk)("br"),(0,e.Lk)("br")]),(0,e.Lk)("div",{class:"line-numbers","aria-hidden":"true"},[(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"})])],-1),(0,e.Fv)('<details class="hint-container details"><summary>Описание ключей</summary><ul><li><p><code>conn_id</code> — необязательный</p><p>Идентификатор подключения в Airflow. По умолчанию — <code>fintech_v</code>.</p></li><li><p><code>conn_type</code> — необязательный</p><p>Тип СУБД для подключения (vertica или clickhouse). По умолчанию — <code>vertica</code>.</p></li></ul></details><h3 id="сенсор" tabindex="-1"><a class="header-anchor" href="#сенсор"><span>Сенсор</span></a></h3><div class="hint-container tip"><p class="hint-container-title">Совет</p><p>Данная настройка является необязательной, при пропуске ключа будут применены настройки по умолчанию.</p></div><p>Для настройки SQL-сенсора вашего отчета используется ключ <code>sensor_settings</code>:</p>',4),(0,e.Lk)("div",{class:"language-python line-numbers-mode","data-ext":"py","data-title":"py"},[(0,e.Lk)("pre",{python:"",class:"language-python"},[(0,e.Lk)("code",null,[(0,e.eW)("super_credit_reports "),(0,e.Lk)("span",{class:"token operator"},"="),(0,e.eW)(),(0,e.Lk)("span",{class:"token punctuation"},"{"),(0,e.eW)("\n    "),(0,e.Lk)("span",{class:"token string"},'"product_name"'),(0,e.Lk)("span",{class:"token punctuation"},":"),(0,e.eW)(),(0,e.Lk)("span",{class:"token string"},'"super_credit"'),(0,e.Lk)("span",{class:"token punctuation"},","),(0,e.eW)("\n    "),(0,e.Lk)("span",{class:"token string"},'"owner"'),(0,e.Lk)("span",{class:"token punctuation"},":"),(0,e.eW)(),(0,e.Lk)("span",{class:"token string"},'"ivivanov"'),(0,e.Lk)("span",{class:"token punctuation"},","),(0,e.eW)("\n    "),(0,e.Lk)("span",{class:"token string"},'"start_date"'),(0,e.Lk)("span",{class:"token punctuation"},":"),(0,e.eW)(),(0,e.Lk)("span",{class:"token string"},'"2024-04-16"'),(0,e.Lk)("span",{class:"token punctuation"},","),(0,e.eW)("\n    "),(0,e.Lk)("span",{class:"token string"},'"reports"'),(0,e.Lk)("span",{class:"token punctuation"},":"),(0,e.eW)(),(0,e.Lk)("span",{class:"token punctuation"},"["),(0,e.eW)("\n        "),(0,e.Lk)("span",{class:"token punctuation"},"{"),(0,e.eW)("\n            "),(0,e.Lk)("span",{class:"token string"},'"report_name"'),(0,e.Lk)("span",{class:"token punctuation"},":"),(0,e.eW)(),(0,e.Lk)("span",{class:"token string"},'"Super Credit Report"'),(0,e.Lk)("span",{class:"token punctuation"},","),(0,e.eW)("\n            "),(0,e.Lk)("span",{class:"token string"},'"channel_name"'),(0,e.Lk)("span",{class:"token punctuation"},":"),(0,e.eW)(),(0,e.Lk)("span",{class:"token string"},'"super_credit_mm_channel"'),(0,e.Lk)("span",{class:"token punctuation"},","),(0,e.eW)("\n            "),(0,e.Lk)("span",{class:"token string"},'"sensor_settings"'),(0,e.Lk)("span",{class:"token punctuation"},":"),(0,e.eW)(),(0,e.Lk)("span",{class:"token punctuation"},"{"),(0,e.eW)("\n                "),(0,e.Lk)("span",{class:"token string"},'"sql_sensor_timeout_sec"'),(0,e.Lk)("span",{class:"token punctuation"},":"),(0,e.eW)(),(0,e.Lk)("span",{class:"token number"},"3600"),(0,e.Lk)("span",{class:"token punctuation"},","),(0,e.eW)("\n            "),(0,e.Lk)("span",{class:"token punctuation"},"}"),(0,e.Lk)("span",{class:"token punctuation"},","),(0,e.eW)("\n            "),(0,e.Lk)("span",{class:"token string"},'"metrics"'),(0,e.Lk)("span",{class:"token punctuation"},":"),(0,e.eW)(),(0,e.Lk)("span",{class:"token punctuation"},"["),(0,e.Lk)("span",{class:"token punctuation"},"]"),(0,e.eW)("\n        "),(0,e.Lk)("span",{class:"token punctuation"},"}"),(0,e.Lk)("span",{class:"token punctuation"},","),(0,e.eW)("\n    "),(0,e.Lk)("span",{class:"token punctuation"},"]"),(0,e.eW)("\n"),(0,e.Lk)("span",{class:"token punctuation"},"}"),(0,e.eW)("\n")])]),(0,e.Lk)("div",{class:"highlight-lines"},[(0,e.Lk)("br"),(0,e.Lk)("br"),(0,e.Lk)("br"),(0,e.Lk)("br"),(0,e.Lk)("br"),(0,e.Lk)("br"),(0,e.Lk)("br"),(0,e.Lk)("br"),(0,e.Lk)("div",{class:"highlight-line"}," "),(0,e.Lk)("div",{class:"highlight-line"}," "),(0,e.Lk)("div",{class:"highlight-line"}," "),(0,e.Lk)("br"),(0,e.Lk)("br"),(0,e.Lk)("br"),(0,e.Lk)("br")]),(0,e.Lk)("div",{class:"line-numbers","aria-hidden":"true"},[(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"})])],-1),(0,e.Fv)('<details class="hint-container details"><summary>Описание ключей</summary><ul><li><p><code>sql_sensor_timeout_sec</code> — необязательный</p><p>Длительность ожидания SQL-сенсора в секундах. По умолчанию — <code>3600</code>.</p></li></ul></details><h2 id="настроики-метрики" tabindex="-1"><a class="header-anchor" href="#настроики-метрики"><span>Настройки метрики</span></a></h2><h3 id="запрос" tabindex="-1"><a class="header-anchor" href="#запрос"><span>Запрос</span></a></h3><p>Для настройки запроса, на основании которого будут вычисляться значения для метрики используется ключ <code>query</code>:</p>',4),(0,e.Lk)("div",{class:"language-python line-numbers-mode","data-ext":"py","data-title":"py"},[(0,e.Lk)("pre",{python:"",class:"language-python"},[(0,e.Lk)("code",null,[(0,e.eW)("super_credit_reports "),(0,e.Lk)("span",{class:"token operator"},"="),(0,e.eW)(),(0,e.Lk)("span",{class:"token punctuation"},"{"),(0,e.eW)("\n    "),(0,e.Lk)("span",{class:"token string"},'"product_name"'),(0,e.Lk)("span",{class:"token punctuation"},":"),(0,e.eW)(),(0,e.Lk)("span",{class:"token string"},'"super_credit"'),(0,e.Lk)("span",{class:"token punctuation"},","),(0,e.eW)("\n    "),(0,e.Lk)("span",{class:"token string"},'"owner"'),(0,e.Lk)("span",{class:"token punctuation"},":"),(0,e.eW)(),(0,e.Lk)("span",{class:"token string"},'"ivivanov"'),(0,e.Lk)("span",{class:"token punctuation"},","),(0,e.eW)("\n    "),(0,e.Lk)("span",{class:"token string"},'"start_date"'),(0,e.Lk)("span",{class:"token punctuation"},":"),(0,e.eW)(),(0,e.Lk)("span",{class:"token string"},'"2024-04-16"'),(0,e.Lk)("span",{class:"token punctuation"},","),(0,e.eW)("\n    "),(0,e.Lk)("span",{class:"token string"},'"reports"'),(0,e.Lk)("span",{class:"token punctuation"},":"),(0,e.eW)(),(0,e.Lk)("span",{class:"token punctuation"},"["),(0,e.eW)("\n        "),(0,e.Lk)("span",{class:"token punctuation"},"{"),(0,e.eW)("\n            "),(0,e.Lk)("span",{class:"token string"},'"report_name"'),(0,e.Lk)("span",{class:"token punctuation"},":"),(0,e.eW)(),(0,e.Lk)("span",{class:"token string"},'"Super Credit Report"'),(0,e.Lk)("span",{class:"token punctuation"},","),(0,e.eW)("\n            "),(0,e.Lk)("span",{class:"token string"},'"channel_name"'),(0,e.Lk)("span",{class:"token punctuation"},":"),(0,e.eW)(),(0,e.Lk)("span",{class:"token string"},'"super_credit_mm_channel"'),(0,e.Lk)("span",{class:"token punctuation"},","),(0,e.eW)("\n            "),(0,e.Lk)("span",{class:"token string"},'"metrics"'),(0,e.Lk)("span",{class:"token punctuation"},":"),(0,e.eW)(),(0,e.Lk)("span",{class:"token punctuation"},"["),(0,e.eW)("\n                "),(0,e.Lk)("span",{class:"token punctuation"},"{"),(0,e.eW)("\n                    "),(0,e.Lk)("span",{class:"token string"},'"metric_name"'),(0,e.Lk)("span",{class:"token punctuation"},":"),(0,e.eW)(),(0,e.Lk)("span",{class:"token string"},'"Количество богатых людей"'),(0,e.Lk)("span",{class:"token punctuation"},","),(0,e.eW)("\n                    "),(0,e.Lk)("span",{class:"token string"},'"product_id"'),(0,e.Lk)("span",{class:"token punctuation"},":"),(0,e.eW)(),(0,e.Lk)("span",{class:"token number"},"999"),(0,e.Lk)("span",{class:"token punctuation"},","),(0,e.eW)("\n                    "),(0,e.Lk)("span",{class:"token string"},'"query"'),(0,e.Lk)("span",{class:"token punctuation"},":"),(0,e.eW)(),(0,e.Lk)("span",{class:"token punctuation"},"{"),(0,e.eW)("\n                        "),(0,e.Lk)("span",{class:"token string"},'"aggregate_function"'),(0,e.Lk)("span",{class:"token punctuation"},":"),(0,e.eW)(),(0,e.Lk)("span",{class:"token string"},'"sum"'),(0,e.Lk)("span",{class:"token punctuation"},","),(0,e.eW)("\n                        "),(0,e.Lk)("span",{class:"token string"},'"column_name"'),(0,e.Lk)("span",{class:"token punctuation"},":"),(0,e.eW)(),(0,e.Lk)("span",{class:"token string"},'"rich_people_cnt"'),(0,e.Lk)("span",{class:"token punctuation"},","),(0,e.eW)("\n                        "),(0,e.Lk)("span",{class:"token string"},'"table_name"'),(0,e.Lk)("span",{class:"token punctuation"},":"),(0,e.eW)(),(0,e.Lk)("span",{class:"token string"},'"fintech_mart_team.cdm_super_credit_table"'),(0,e.Lk)("span",{class:"token punctuation"},","),(0,e.eW)("\n                        "),(0,e.Lk)("span",{class:"token string"},'"filters"'),(0,e.Lk)("span",{class:"token punctuation"},":"),(0,e.eW)(),(0,e.Lk)("span",{class:"token punctuation"},"["),(0,e.eW)("\n                            "),(0,e.Lk)("span",{class:"token string"},'"class_id IN (567, 678)"'),(0,e.Lk)("span",{class:"token punctuation"},","),(0,e.eW)("\n                            "),(0,e.Lk)("span",{class:"token string"},"\"change_type = 'Покупка'\""),(0,e.eW)("\n                        "),(0,e.Lk)("span",{class:"token punctuation"},"]"),(0,e.Lk)("span",{class:"token punctuation"},","),(0,e.eW)("\n                    "),(0,e.Lk)("span",{class:"token punctuation"},"}"),(0,e.Lk)("span",{class:"token punctuation"},","),(0,e.eW)("\n                    "),(0,e.Lk)("span",{class:"token string"},'"appearance"'),(0,e.Lk)("span",{class:"token punctuation"},":"),(0,e.eW)(),(0,e.Lk)("span",{class:"token punctuation"},"{"),(0,e.eW)("\n                        "),(0,e.Lk)("span",{class:"token string"},'"priority"'),(0,e.Lk)("span",{class:"token punctuation"},":"),(0,e.eW)(),(0,e.Lk)("span",{class:"token number"},"0"),(0,e.Lk)("span",{class:"token punctuation"},","),(0,e.eW)("\n                    "),(0,e.Lk)("span",{class:"token punctuation"},"}"),(0,e.Lk)("span",{class:"token punctuation"},","),(0,e.eW)("\n                "),(0,e.Lk)("span",{class:"token punctuation"},"}"),(0,e.Lk)("span",{class:"token punctuation"},","),(0,e.eW)("\n            "),(0,e.Lk)("span",{class:"token punctuation"},"]"),(0,e.eW)("\n        "),(0,e.Lk)("span",{class:"token punctuation"},"}"),(0,e.Lk)("span",{class:"token punctuation"},","),(0,e.eW)("\n    "),(0,e.Lk)("span",{class:"token punctuation"},"]"),(0,e.eW)("\n"),(0,e.Lk)("span",{class:"token punctuation"},"}"),(0,e.eW)("\n")])]),(0,e.Lk)("div",{class:"highlight-lines"},[(0,e.Lk)("br"),(0,e.Lk)("br"),(0,e.Lk)("br"),(0,e.Lk)("br"),(0,e.Lk)("br"),(0,e.Lk)("br"),(0,e.Lk)("br"),(0,e.Lk)("br"),(0,e.Lk)("br"),(0,e.Lk)("br"),(0,e.Lk)("br"),(0,e.Lk)("br"),(0,e.Lk)("div",{class:"highlight-line"}," "),(0,e.Lk)("div",{class:"highlight-line"}," "),(0,e.Lk)("div",{class:"highlight-line"}," "),(0,e.Lk)("div",{class:"highlight-line"}," "),(0,e.Lk)("div",{class:"highlight-line"}," "),(0,e.Lk)("div",{class:"highlight-line"}," "),(0,e.Lk)("div",{class:"highlight-line"}," "),(0,e.Lk)("div",{class:"highlight-line"}," "),(0,e.Lk)("div",{class:"highlight-line"}," "),(0,e.Lk)("br"),(0,e.Lk)("br"),(0,e.Lk)("br"),(0,e.Lk)("br"),(0,e.Lk)("br"),(0,e.Lk)("br"),(0,e.Lk)("br"),(0,e.Lk)("br")]),(0,e.Lk)("div",{class:"line-numbers","aria-hidden":"true"},[(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"})])],-1),(0,e.Fv)('<details class="hint-container details"><summary>Описание ключей</summary><ul><li><p><code>aggregate_function</code> — необязательный</p><p>Функция агрегации для метрики, как в SQL. По умолчанию — <code>sum</code>.</p></li><li><p><code>column_name</code> — обязательный</p><p>Название столбца, в котором хранятся значения метрики в таблице CDM слоя.</p></li><li><p><code>table_name</code> — обязательный</p><p>Название таблицы CDM слоя, в которой хранятся значения метрики в таблице.</p></li><li><p><code>filters</code> — необязательный</p><p>Список фильтров построчно, которые будут объединены через <code>AND</code> в SQL-запросах.</p></li></ul></details><h3 id="внешнии-вид" tabindex="-1"><a class="header-anchor" href="#внешнии-вид"><span>Внешний вид</span></a></h3><p>Для настройки внешнего вида отображени метрики (строки в отчете) используется ключ <code>appearance</code>:</p>',3),(0,e.Lk)("div",{class:"language-python line-numbers-mode","data-ext":"py","data-title":"py"},[(0,e.Lk)("pre",{python:"",class:"language-python"},[(0,e.Lk)("code",null,[(0,e.eW)("super_credit_reports "),(0,e.Lk)("span",{class:"token operator"},"="),(0,e.eW)(),(0,e.Lk)("span",{class:"token punctuation"},"{"),(0,e.eW)("\n    "),(0,e.Lk)("span",{class:"token string"},'"product_name"'),(0,e.Lk)("span",{class:"token punctuation"},":"),(0,e.eW)(),(0,e.Lk)("span",{class:"token string"},'"super_credit"'),(0,e.Lk)("span",{class:"token punctuation"},","),(0,e.eW)("\n    "),(0,e.Lk)("span",{class:"token string"},'"owner"'),(0,e.Lk)("span",{class:"token punctuation"},":"),(0,e.eW)(),(0,e.Lk)("span",{class:"token string"},'"ivivanov"'),(0,e.Lk)("span",{class:"token punctuation"},","),(0,e.eW)("\n    "),(0,e.Lk)("span",{class:"token string"},'"start_date"'),(0,e.Lk)("span",{class:"token punctuation"},":"),(0,e.eW)(),(0,e.Lk)("span",{class:"token string"},'"2024-04-16"'),(0,e.Lk)("span",{class:"token punctuation"},","),(0,e.eW)("\n    "),(0,e.Lk)("span",{class:"token string"},'"reports"'),(0,e.Lk)("span",{class:"token punctuation"},":"),(0,e.eW)(),(0,e.Lk)("span",{class:"token punctuation"},"["),(0,e.eW)("\n        "),(0,e.Lk)("span",{class:"token punctuation"},"{"),(0,e.eW)("\n            "),(0,e.Lk)("span",{class:"token string"},'"report_name"'),(0,e.Lk)("span",{class:"token punctuation"},":"),(0,e.eW)(),(0,e.Lk)("span",{class:"token string"},'"Super Credit Report"'),(0,e.Lk)("span",{class:"token punctuation"},","),(0,e.eW)("\n            "),(0,e.Lk)("span",{class:"token string"},'"channel_name"'),(0,e.Lk)("span",{class:"token punctuation"},":"),(0,e.eW)(),(0,e.Lk)("span",{class:"token string"},'"super_credit_mm_channel"'),(0,e.Lk)("span",{class:"token punctuation"},","),(0,e.eW)("\n            "),(0,e.Lk)("span",{class:"token string"},'"metrics"'),(0,e.Lk)("span",{class:"token punctuation"},":"),(0,e.eW)(),(0,e.Lk)("span",{class:"token punctuation"},"["),(0,e.eW)("\n                "),(0,e.Lk)("span",{class:"token punctuation"},"{"),(0,e.eW)("\n                    "),(0,e.Lk)("span",{class:"token string"},'"metric_name"'),(0,e.Lk)("span",{class:"token punctuation"},":"),(0,e.eW)(),(0,e.Lk)("span",{class:"token string"},'"Количество богатых людей"'),(0,e.Lk)("span",{class:"token punctuation"},","),(0,e.eW)("\n                    "),(0,e.Lk)("span",{class:"token string"},'"product_id"'),(0,e.Lk)("span",{class:"token punctuation"},":"),(0,e.eW)(),(0,e.Lk)("span",{class:"token number"},"999"),(0,e.Lk)("span",{class:"token punctuation"},","),(0,e.eW)("\n                    "),(0,e.Lk)("span",{class:"token string"},'"query"'),(0,e.Lk)("span",{class:"token punctuation"},":"),(0,e.eW)(),(0,e.Lk)("span",{class:"token punctuation"},"{"),(0,e.eW)("\n                        "),(0,e.Lk)("span",{class:"token string"},'"column_name"'),(0,e.Lk)("span",{class:"token punctuation"},":"),(0,e.eW)(),(0,e.Lk)("span",{class:"token string"},'"rich_people_cnt"'),(0,e.Lk)("span",{class:"token punctuation"},","),(0,e.eW)("\n                        "),(0,e.Lk)("span",{class:"token string"},'"table_name"'),(0,e.Lk)("span",{class:"token punctuation"},":"),(0,e.eW)(),(0,e.Lk)("span",{class:"token string"},'"fintech_mart_team.cdm_super_credit_table"'),(0,e.Lk)("span",{class:"token punctuation"},","),(0,e.eW)("\n                    "),(0,e.Lk)("span",{class:"token punctuation"},"}"),(0,e.Lk)("span",{class:"token punctuation"},","),(0,e.eW)("\n                    "),(0,e.Lk)("span",{class:"token string"},'"appearance"'),(0,e.Lk)("span",{class:"token punctuation"},":"),(0,e.eW)(),(0,e.Lk)("span",{class:"token punctuation"},"{"),(0,e.eW)("\n                        "),(0,e.Lk)("span",{class:"token string"},'"priority"'),(0,e.Lk)("span",{class:"token punctuation"},":"),(0,e.eW)(),(0,e.Lk)("span",{class:"token number"},"0"),(0,e.Lk)("span",{class:"token punctuation"},","),(0,e.eW)("\n                        "),(0,e.Lk)("span",{class:"token string"},'"is_important"'),(0,e.Lk)("span",{class:"token punctuation"},":"),(0,e.eW)(),(0,e.Lk)("span",{class:"token boolean"},"True"),(0,e.Lk)("span",{class:"token punctuation"},","),(0,e.eW)("\n                        "),(0,e.Lk)("span",{class:"token string"},'"tech_measure"'),(0,e.Lk)("span",{class:"token punctuation"},":"),(0,e.eW)(),(0,e.Lk)("span",{class:"token string"},'"%"'),(0,e.Lk)("span",{class:"token punctuation"},","),(0,e.eW)("\n                        "),(0,e.Lk)("span",{class:"token string"},'"business_measure"'),(0,e.Lk)("span",{class:"token punctuation"},":"),(0,e.eW)(),(0,e.Lk)("span",{class:"token string"},'"руб."'),(0,e.Lk)("span",{class:"token punctuation"},","),(0,e.eW)("\n                        "),(0,e.Lk)("span",{class:"token string"},'"threshold_rate"'),(0,e.Lk)("span",{class:"token punctuation"},":"),(0,e.eW)(),(0,e.Lk)("span",{class:"token number"},"5"),(0,e.Lk)("span",{class:"token punctuation"},","),(0,e.eW)("\n                        "),(0,e.Lk)("span",{class:"token string"},'"less_is_better"'),(0,e.Lk)("span",{class:"token punctuation"},":"),(0,e.eW)(),(0,e.Lk)("span",{class:"token boolean"},"False"),(0,e.Lk)("span",{class:"token punctuation"},","),(0,e.eW)("\n                    "),(0,e.Lk)("span",{class:"token punctuation"},"}"),(0,e.Lk)("span",{class:"token punctuation"},","),(0,e.eW)("\n                "),(0,e.Lk)("span",{class:"token punctuation"},"}"),(0,e.Lk)("span",{class:"token punctuation"},","),(0,e.eW)("\n            "),(0,e.Lk)("span",{class:"token punctuation"},"]"),(0,e.eW)("\n        "),(0,e.Lk)("span",{class:"token punctuation"},"}"),(0,e.Lk)("span",{class:"token punctuation"},","),(0,e.eW)("\n    "),(0,e.Lk)("span",{class:"token punctuation"},"]"),(0,e.eW)("\n"),(0,e.Lk)("span",{class:"token punctuation"},"}"),(0,e.eW)("\n")])]),(0,e.Lk)("div",{class:"highlight-lines"},[(0,e.Lk)("br"),(0,e.Lk)("br"),(0,e.Lk)("br"),(0,e.Lk)("br"),(0,e.Lk)("br"),(0,e.Lk)("br"),(0,e.Lk)("br"),(0,e.Lk)("br"),(0,e.Lk)("br"),(0,e.Lk)("br"),(0,e.Lk)("br"),(0,e.Lk)("br"),(0,e.Lk)("br"),(0,e.Lk)("br"),(0,e.Lk)("br"),(0,e.Lk)("br"),(0,e.Lk)("div",{class:"highlight-line"}," "),(0,e.Lk)("div",{class:"highlight-line"}," "),(0,e.Lk)("div",{class:"highlight-line"}," "),(0,e.Lk)("div",{class:"highlight-line"}," "),(0,e.Lk)("div",{class:"highlight-line"}," "),(0,e.Lk)("div",{class:"highlight-line"}," "),(0,e.Lk)("div",{class:"highlight-line"}," "),(0,e.Lk)("div",{class:"highlight-line"}," "),(0,e.Lk)("br"),(0,e.Lk)("br"),(0,e.Lk)("br"),(0,e.Lk)("br"),(0,e.Lk)("br")]),(0,e.Lk)("div",{class:"line-numbers","aria-hidden":"true"},[(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"})])],-1),(0,e.Fv)('<details class="hint-container details"><summary>Описание ключей</summary><ul><li><p><code>priority</code> — обязательный</p><p>Порядковый номер метрики (номер строки).</p></li><li><p><code>is_important</code> — необязательный</p><p>Флаг необходимости выделения метрики жирным начертанием. По умолчанию — <code>False</code>.</p></li><li><p><code>tech_measure</code> — необязательный</p><p>Единица измерения метрики (тысячи, миллионы, проценты).</p></li><li><p><code>business_measure</code> — необязательный</p><p>Бизнес измерение метрики (руб., шт. и т.п.).</p></li><li><p><code>threshold_rate</code> — необязательный</p><p>Значение, выше которого значения метрики будут открашиваться зеленым цветом, а ниже — красным.</p></li><li><p><code>less_is_better</code> — необязательный</p><p>Изменяет принцип окрашивание метрики на противоположный (меньше — зеленый цвет, больше — красный).</p></li></ul></details><h3 id="сравнительные-срезы" tabindex="-1"><a class="header-anchor" href="#сравнительные-срезы"><span>Сравнительные срезы</span></a></h3><p>На текущий момент доступны следующие сравнительные срезы:</p><ul><li>DoD (1 день)</li><li>WoW (7 дней)</li><li>MoM (30 дней)</li><li>YoY (364 дня)</li></ul><p>Управлять этими срезами можно с помощью ключа <code>comparison_slices</code>:</p>',5),(0,e.Lk)("div",{class:"language-python line-numbers-mode","data-ext":"py","data-title":"py"},[(0,e.Lk)("pre",{python:"",class:"language-python"},[(0,e.Lk)("code",null,[(0,e.eW)("super_credit_reports "),(0,e.Lk)("span",{class:"token operator"},"="),(0,e.eW)(),(0,e.Lk)("span",{class:"token punctuation"},"{"),(0,e.eW)("\n    "),(0,e.Lk)("span",{class:"token string"},'"product_name"'),(0,e.Lk)("span",{class:"token punctuation"},":"),(0,e.eW)(),(0,e.Lk)("span",{class:"token string"},'"super_credit"'),(0,e.Lk)("span",{class:"token punctuation"},","),(0,e.eW)("\n    "),(0,e.Lk)("span",{class:"token string"},'"owner"'),(0,e.Lk)("span",{class:"token punctuation"},":"),(0,e.eW)(),(0,e.Lk)("span",{class:"token string"},'"ivivanov"'),(0,e.Lk)("span",{class:"token punctuation"},","),(0,e.eW)("\n    "),(0,e.Lk)("span",{class:"token string"},'"start_date"'),(0,e.Lk)("span",{class:"token punctuation"},":"),(0,e.eW)(),(0,e.Lk)("span",{class:"token string"},'"2024-04-16"'),(0,e.Lk)("span",{class:"token punctuation"},","),(0,e.eW)("\n    "),(0,e.Lk)("span",{class:"token string"},'"reports"'),(0,e.Lk)("span",{class:"token punctuation"},":"),(0,e.eW)(),(0,e.Lk)("span",{class:"token punctuation"},"["),(0,e.eW)("\n        "),(0,e.Lk)("span",{class:"token punctuation"},"{"),(0,e.eW)("\n            "),(0,e.Lk)("span",{class:"token string"},'"report_name"'),(0,e.Lk)("span",{class:"token punctuation"},":"),(0,e.eW)(),(0,e.Lk)("span",{class:"token string"},'"Super Credit Report"'),(0,e.Lk)("span",{class:"token punctuation"},","),(0,e.eW)("\n            "),(0,e.Lk)("span",{class:"token string"},'"channel_name"'),(0,e.Lk)("span",{class:"token punctuation"},":"),(0,e.eW)(),(0,e.Lk)("span",{class:"token string"},'"super_credit_mm_channel"'),(0,e.Lk)("span",{class:"token punctuation"},","),(0,e.eW)("\n            "),(0,e.Lk)("span",{class:"token string"},'"metrics"'),(0,e.Lk)("span",{class:"token punctuation"},":"),(0,e.eW)(),(0,e.Lk)("span",{class:"token punctuation"},"["),(0,e.eW)("\n                "),(0,e.Lk)("span",{class:"token punctuation"},"{"),(0,e.eW)("\n                    "),(0,e.Lk)("span",{class:"token string"},'"metric_name"'),(0,e.Lk)("span",{class:"token punctuation"},":"),(0,e.eW)(),(0,e.Lk)("span",{class:"token string"},'"Количество богатых людей"'),(0,e.Lk)("span",{class:"token punctuation"},","),(0,e.eW)("\n                    "),(0,e.Lk)("span",{class:"token string"},'"product_id"'),(0,e.Lk)("span",{class:"token punctuation"},":"),(0,e.eW)(),(0,e.Lk)("span",{class:"token number"},"999"),(0,e.Lk)("span",{class:"token punctuation"},","),(0,e.eW)("\n                    "),(0,e.Lk)("span",{class:"token string"},'"query"'),(0,e.Lk)("span",{class:"token punctuation"},":"),(0,e.eW)(),(0,e.Lk)("span",{class:"token punctuation"},"{"),(0,e.eW)("\n                        "),(0,e.Lk)("span",{class:"token string"},'"column_name"'),(0,e.Lk)("span",{class:"token punctuation"},":"),(0,e.eW)(),(0,e.Lk)("span",{class:"token string"},'"rich_people_cnt"'),(0,e.Lk)("span",{class:"token punctuation"},","),(0,e.eW)("\n                        "),(0,e.Lk)("span",{class:"token string"},'"table_name"'),(0,e.Lk)("span",{class:"token punctuation"},":"),(0,e.eW)(),(0,e.Lk)("span",{class:"token string"},'"fintech_mart_team.cdm_super_credit_table"'),(0,e.Lk)("span",{class:"token punctuation"},","),(0,e.eW)("\n                    "),(0,e.Lk)("span",{class:"token punctuation"},"}"),(0,e.Lk)("span",{class:"token punctuation"},","),(0,e.eW)("\n                    "),(0,e.Lk)("span",{class:"token string"},'"appearance"'),(0,e.Lk)("span",{class:"token punctuation"},":"),(0,e.eW)(),(0,e.Lk)("span",{class:"token punctuation"},"{"),(0,e.eW)("\n                        "),(0,e.Lk)("span",{class:"token string"},'"priority"'),(0,e.Lk)("span",{class:"token punctuation"},":"),(0,e.eW)(),(0,e.Lk)("span",{class:"token number"},"0"),(0,e.Lk)("span",{class:"token punctuation"},","),(0,e.eW)("\n                    "),(0,e.Lk)("span",{class:"token punctuation"},"}"),(0,e.Lk)("span",{class:"token punctuation"},","),(0,e.eW)("\n                    "),(0,e.Lk)("span",{class:"token string"},'"comparison_slices"'),(0,e.Lk)("span",{class:"token punctuation"},":"),(0,e.eW)(),(0,e.Lk)("span",{class:"token punctuation"},"["),(0,e.Lk)("span",{class:"token string"},'"DoD"'),(0,e.Lk)("span",{class:"token punctuation"},","),(0,e.eW)(),(0,e.Lk)("span",{class:"token string"},'"WoW"'),(0,e.Lk)("span",{class:"token punctuation"},","),(0,e.eW)(),(0,e.Lk)("span",{class:"token string"},'"MoM"'),(0,e.Lk)("span",{class:"token punctuation"},"]"),(0,e.eW)("\n                "),(0,e.Lk)("span",{class:"token punctuation"},"}"),(0,e.Lk)("span",{class:"token punctuation"},","),(0,e.eW)("\n            "),(0,e.Lk)("span",{class:"token punctuation"},"]"),(0,e.eW)("\n        "),(0,e.Lk)("span",{class:"token punctuation"},"}"),(0,e.Lk)("span",{class:"token punctuation"},","),(0,e.eW)("\n    "),(0,e.Lk)("span",{class:"token punctuation"},"]"),(0,e.eW)("\n"),(0,e.Lk)("span",{class:"token punctuation"},"}"),(0,e.eW)("\n")])]),(0,e.Lk)("div",{class:"highlight-lines"},[(0,e.Lk)("br"),(0,e.Lk)("br"),(0,e.Lk)("br"),(0,e.Lk)("br"),(0,e.Lk)("br"),(0,e.Lk)("br"),(0,e.Lk)("br"),(0,e.Lk)("br"),(0,e.Lk)("br"),(0,e.Lk)("br"),(0,e.Lk)("br"),(0,e.Lk)("br"),(0,e.Lk)("br"),(0,e.Lk)("br"),(0,e.Lk)("br"),(0,e.Lk)("br"),(0,e.Lk)("br"),(0,e.Lk)("br"),(0,e.Lk)("br"),(0,e.Lk)("div",{class:"highlight-line"}," "),(0,e.Lk)("br"),(0,e.Lk)("br"),(0,e.Lk)("br"),(0,e.Lk)("br"),(0,e.Lk)("br")]),(0,e.Lk)("div",{class:"line-numbers","aria-hidden":"true"},[(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"})])],-1),(0,e.Fv)('<div class="hint-container important"><p class="hint-container-title">Важно</p><p>При отсутствии ключа для данной метрики будет применены все доступные сравнительные срезы.</p></div><div class="hint-container tip"><p class="hint-container-title">Совет</p><p>Если вы не хотите видеть сравнительные метрики необходимо передать пустой список <code>[]</code>.</p></div><h3 id="кумулятивные-срезы" tabindex="-1"><a class="header-anchor" href="#кумулятивные-срезы"><span>Кумулятивные срезы</span></a></h3><p>На текущий момент доступны следующие кумулятивные срезы:</p><ul><li>сWoW</li><li>сMoM</li><li>сQoQ</li><li>cYoY</li><li>сW</li><li>сM</li><li>сQ</li><li>cY</li></ul><p>Управлять этими срезами можно с помощью ключа <code>cumulative_slices</code>:</p>',6),(0,e.Lk)("div",{class:"language-python line-numbers-mode","data-ext":"py","data-title":"py"},[(0,e.Lk)("pre",{python:"",class:"language-python"},[(0,e.Lk)("code",null,[(0,e.eW)("super_credit_reports "),(0,e.Lk)("span",{class:"token operator"},"="),(0,e.eW)(),(0,e.Lk)("span",{class:"token punctuation"},"{"),(0,e.eW)("\n    "),(0,e.Lk)("span",{class:"token string"},'"product_name"'),(0,e.Lk)("span",{class:"token punctuation"},":"),(0,e.eW)(),(0,e.Lk)("span",{class:"token string"},'"super_credit"'),(0,e.Lk)("span",{class:"token punctuation"},","),(0,e.eW)("\n    "),(0,e.Lk)("span",{class:"token string"},'"owner"'),(0,e.Lk)("span",{class:"token punctuation"},":"),(0,e.eW)(),(0,e.Lk)("span",{class:"token string"},'"ivivanov"'),(0,e.Lk)("span",{class:"token punctuation"},","),(0,e.eW)("\n    "),(0,e.Lk)("span",{class:"token string"},'"start_date"'),(0,e.Lk)("span",{class:"token punctuation"},":"),(0,e.eW)(),(0,e.Lk)("span",{class:"token string"},'"2024-04-16"'),(0,e.Lk)("span",{class:"token punctuation"},","),(0,e.eW)("\n    "),(0,e.Lk)("span",{class:"token string"},'"reports"'),(0,e.Lk)("span",{class:"token punctuation"},":"),(0,e.eW)(),(0,e.Lk)("span",{class:"token punctuation"},"["),(0,e.eW)("\n        "),(0,e.Lk)("span",{class:"token punctuation"},"{"),(0,e.eW)("\n            "),(0,e.Lk)("span",{class:"token string"},'"report_name"'),(0,e.Lk)("span",{class:"token punctuation"},":"),(0,e.eW)(),(0,e.Lk)("span",{class:"token string"},'"Super Credit Report"'),(0,e.Lk)("span",{class:"token punctuation"},","),(0,e.eW)("\n            "),(0,e.Lk)("span",{class:"token string"},'"channel_name"'),(0,e.Lk)("span",{class:"token punctuation"},":"),(0,e.eW)(),(0,e.Lk)("span",{class:"token string"},'"super_credit_mm_channel"'),(0,e.Lk)("span",{class:"token punctuation"},","),(0,e.eW)("\n            "),(0,e.Lk)("span",{class:"token string"},'"metrics"'),(0,e.Lk)("span",{class:"token punctuation"},":"),(0,e.eW)(),(0,e.Lk)("span",{class:"token punctuation"},"["),(0,e.eW)("\n                "),(0,e.Lk)("span",{class:"token punctuation"},"{"),(0,e.eW)("\n                    "),(0,e.Lk)("span",{class:"token string"},'"metric_name"'),(0,e.Lk)("span",{class:"token punctuation"},":"),(0,e.eW)(),(0,e.Lk)("span",{class:"token string"},'"Количество богатых людей"'),(0,e.Lk)("span",{class:"token punctuation"},","),(0,e.eW)("\n                    "),(0,e.Lk)("span",{class:"token string"},'"product_id"'),(0,e.Lk)("span",{class:"token punctuation"},":"),(0,e.eW)(),(0,e.Lk)("span",{class:"token number"},"999"),(0,e.Lk)("span",{class:"token punctuation"},","),(0,e.eW)("\n                    "),(0,e.Lk)("span",{class:"token string"},'"query"'),(0,e.Lk)("span",{class:"token punctuation"},":"),(0,e.eW)(),(0,e.Lk)("span",{class:"token punctuation"},"{"),(0,e.eW)("\n                        "),(0,e.Lk)("span",{class:"token string"},'"column_name"'),(0,e.Lk)("span",{class:"token punctuation"},":"),(0,e.eW)(),(0,e.Lk)("span",{class:"token string"},'"rich_people_cnt"'),(0,e.Lk)("span",{class:"token punctuation"},","),(0,e.eW)("\n                        "),(0,e.Lk)("span",{class:"token string"},'"table_name"'),(0,e.Lk)("span",{class:"token punctuation"},":"),(0,e.eW)(),(0,e.Lk)("span",{class:"token string"},'"fintech_mart_team.cdm_super_credit_table"'),(0,e.Lk)("span",{class:"token punctuation"},","),(0,e.eW)("\n                    "),(0,e.Lk)("span",{class:"token punctuation"},"}"),(0,e.Lk)("span",{class:"token punctuation"},","),(0,e.eW)("\n                    "),(0,e.Lk)("span",{class:"token string"},'"appearance"'),(0,e.Lk)("span",{class:"token punctuation"},":"),(0,e.eW)(),(0,e.Lk)("span",{class:"token punctuation"},"{"),(0,e.eW)("\n                        "),(0,e.Lk)("span",{class:"token string"},'"priority"'),(0,e.Lk)("span",{class:"token punctuation"},":"),(0,e.eW)(),(0,e.Lk)("span",{class:"token number"},"0"),(0,e.Lk)("span",{class:"token punctuation"},","),(0,e.eW)("\n                    "),(0,e.Lk)("span",{class:"token punctuation"},"}"),(0,e.Lk)("span",{class:"token punctuation"},","),(0,e.eW)("\n                    "),(0,e.Lk)("span",{class:"token string"},'"cumulative_slices"'),(0,e.Lk)("span",{class:"token punctuation"},":"),(0,e.eW)(),(0,e.Lk)("span",{class:"token punctuation"},"["),(0,e.Lk)("span",{class:"token string"},'"cWoW"'),(0,e.Lk)("span",{class:"token punctuation"},","),(0,e.eW)(),(0,e.Lk)("span",{class:"token string"},'"cM"'),(0,e.Lk)("span",{class:"token punctuation"},"]"),(0,e.eW)("\n                "),(0,e.Lk)("span",{class:"token punctuation"},"}"),(0,e.Lk)("span",{class:"token punctuation"},","),(0,e.eW)("\n            "),(0,e.Lk)("span",{class:"token punctuation"},"]"),(0,e.eW)("\n        "),(0,e.Lk)("span",{class:"token punctuation"},"}"),(0,e.Lk)("span",{class:"token punctuation"},","),(0,e.eW)("\n    "),(0,e.Lk)("span",{class:"token punctuation"},"]"),(0,e.eW)("\n"),(0,e.Lk)("span",{class:"token punctuation"},"}"),(0,e.eW)("\n")])]),(0,e.Lk)("div",{class:"highlight-lines"},[(0,e.Lk)("br"),(0,e.Lk)("br"),(0,e.Lk)("br"),(0,e.Lk)("br"),(0,e.Lk)("br"),(0,e.Lk)("br"),(0,e.Lk)("br"),(0,e.Lk)("br"),(0,e.Lk)("br"),(0,e.Lk)("br"),(0,e.Lk)("br"),(0,e.Lk)("br"),(0,e.Lk)("br"),(0,e.Lk)("br"),(0,e.Lk)("br"),(0,e.Lk)("br"),(0,e.Lk)("br"),(0,e.Lk)("br"),(0,e.Lk)("br"),(0,e.Lk)("div",{class:"highlight-line"}," "),(0,e.Lk)("br"),(0,e.Lk)("br"),(0,e.Lk)("br"),(0,e.Lk)("br"),(0,e.Lk)("br")]),(0,e.Lk)("div",{class:"line-numbers","aria-hidden":"true"},[(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"})])],-1),(0,e.Lk)("div",{class:"hint-container important"},[(0,e.Lk)("p",{class:"hint-container-title"},"Важно"),(0,e.Lk)("p",null,"При отсутствии ключа для данной метрики будет применены все доступные кумулятивные срезы.")],-1),(0,e.Lk)("div",{class:"hint-container tip"},[(0,e.Lk)("p",{class:"hint-container-title"},"Совет"),(0,e.Lk)("p",null,[(0,e.eW)("Если вы не хотите видеть кумулятивные метрики необходимо передать пустой список "),(0,e.Lk)("code",null,"[]"),(0,e.eW)(".")])],-1)],i={},l=(0,a(6262).A)(i,[["render",function(n,s){return(0,e.uX)(),(0,e.CE)("div",null,t)}]]),c=JSON.parse('{"path":"/components/daily_reporting/user_guide/","title":"User Guide","lang":"ru-RU","frontmatter":{"author":"David Khoperiya","title":"User Guide","date":"2024-04-18T00:00:00.000Z","editLink":false,"pageview":false,"copyright":false,"footer":"Ozon.FinTech © 2024-2024 All rights reserved."},"headers":[{"level":2,"title":"Настройки отчета","slug":"настроики-отчета","link":"#настроики-отчета","children":[{"level":3,"title":"Расписания","slug":"расписания","link":"#расписания","children":[]},{"level":3,"title":"Подключение","slug":"подключение","link":"#подключение","children":[]},{"level":3,"title":"Сенсор","slug":"сенсор","link":"#сенсор","children":[]}]},{"level":2,"title":"Настройки метрики","slug":"настроики-метрики","link":"#настроики-метрики","children":[{"level":3,"title":"Запрос","slug":"запрос","link":"#запрос","children":[]},{"level":3,"title":"Внешний вид","slug":"внешнии-вид","link":"#внешнии-вид","children":[]},{"level":3,"title":"Сравнительные срезы","slug":"сравнительные-срезы","link":"#сравнительные-срезы","children":[]},{"level":3,"title":"Кумулятивные срезы","slug":"кумулятивные-срезы","link":"#кумулятивные-срезы","children":[]}]}],"git":{"createdTime":1713533928000,"updatedTime":1713641916000,"contributors":[{"name":"dkhoperiya","email":"dkhoperiya@ozon.ru","commits":1}]},"readingTime":{"minutes":2.3,"words":691},"filePathRelative":"components/daily_reporting/user_guide/README.md","localizedDate":"18 апреля 2024 г."}')},3025:(n,s,a)=>{a.r(s),a.d(s,{comp:()=>i,data:()=>l});var e=a(641);const t={},i=(0,a(6262).A)(t,[["render",function(n,s){const a=(0,e.g2)("Catalog");return(0,e.uX)(),(0,e.CE)("div",null,[(0,e.bF)(a)])}]]),l=JSON.parse('{"path":"/components/event_log/","title":"Event Log","lang":"ru-RU","frontmatter":{"title":"Event Log","article":false,"feed":false,"sitemap":false,"gitInclude":[]},"headers":[],"git":{},"readingTime":{"minutes":0,"words":1},"filePathRelative":null}')},5552:(n,s,a)=>{a.r(s),a.d(s,{comp:()=>k,data:()=>r});var e=a(641);const t=(0,e.Fv)('<h2 id="что-это-такое" tabindex="-1"><a class="header-anchor" href="#что-это-такое"><span>Что это такое?</span></a></h2><p><em>Компонетные решения (компоненты)</em> — программные модули, позволяющие аналитикам, минимально погружаясь в код, создавать отдельные <code>Task</code> или целые <code>DAG</code> для Apache Airflow.</p><p>Среди компонентных решений можно выделить 2 типа программным продуктов:</p><ul><li>Комплексные решения для Apache Airflow</li><li>Библиотеки операторов Apache Airflow</li></ul><h2 id="комплексные-решения" tabindex="-1"><a class="header-anchor" href="#комплексные-решения"><span>Комплексные решения</span></a></h2><p><em>Комплексные решения</em> - программные модули, позволяющие полностью автоматизировать конкретный процесс, скрывая логику работы от пользователя, взамен предоставляя конфигурацинный файл для настройки этого процесса.</p><p>К комплексным решениями относятся:</p>',7),i=(0,e.Lk)("h2",{id:"библиотеки-операторов",tabindex:"-1"},[(0,e.Lk)("a",{class:"header-anchor",href:"#библиотеки-операторов"},[(0,e.Lk)("span",null,"Библиотеки операторов")])],-1),l=(0,e.Lk)("p",null,[(0,e.Lk)("em",null,"Библиотеки операторов"),(0,e.eW)(" - программные модули, позволяющие импортировать готовый набор операторов для Airflow, обычно покрывающий определенные кейсы в пайплайне данных.")],-1),c=(0,e.Lk)("p",null,"К библиотекам операторов относятся:",-1),o=(0,e.Lk)("ul",null,[(0,e.Lk)("li",null,[(0,e.Lk)("a",{href:""},"DQ Operator")])],-1),p={},k=(0,a(6262).A)(p,[["render",function(n,s){const a=(0,e.g2)("RouteLink");return(0,e.uX)(),(0,e.CE)("div",null,[t,(0,e.Lk)("ul",null,[(0,e.Lk)("li",null,[(0,e.bF)(a,{to:"/components/daily_reporting/overview.html"},{default:(0,e.k6)((()=>[(0,e.eW)("Daily Reporting")])),_:1})]),(0,e.Lk)("li",null,[(0,e.bF)(a,{to:"/components/cdm_dds/overview.html"},{default:(0,e.k6)((()=>[(0,e.eW)("CDM/DDS")])),_:1})]),(0,e.Lk)("li",null,[(0,e.bF)(a,{to:"/components/progress_goal/overview.html"},{default:(0,e.k6)((()=>[(0,e.eW)("Progress Goal")])),_:1})]),(0,e.Lk)("li",null,[(0,e.bF)(a,{to:"/components/event_log/overview.html"},{default:(0,e.k6)((()=>[(0,e.eW)("Event Log")])),_:1})])]),i,l,c,o])}]]),r=JSON.parse('{"path":"/components/","title":"Компонентные решения","lang":"ru-RU","frontmatter":{"author":"David Khoperiya","title":"Компонентные решения","icon":"box","date":"2024-04-18T00:00:00.000Z","editLink":false,"pageview":false,"copyright":false,"footer":"Ozon.FinTech © 2024-2024 All rights reserved."},"headers":[{"level":2,"title":"Что это такое?","slug":"что-это-такое","link":"#что-это-такое","children":[]},{"level":2,"title":"Комплексные решения","slug":"комплексные-решения","link":"#комплексные-решения","children":[]},{"level":2,"title":"Библиотеки операторов","slug":"библиотеки-операторов","link":"#библиотеки-операторов","children":[]}],"git":{"createdTime":1713533928000,"updatedTime":1713533928000,"contributors":[{"name":"dkhoperiya","email":"dkhoperiya@ozon.ru","commits":1}]},"readingTime":{"minutes":0.44,"words":132},"filePathRelative":"components/README.md","localizedDate":"18 апреля 2024 г."}')},4478:(n,s,a)=>{a.r(s),a.d(s,{comp:()=>i,data:()=>l});var e=a(641);const t={},i=(0,a(6262).A)(t,[["render",function(n,s){const a=(0,e.g2)("Catalog");return(0,e.uX)(),(0,e.CE)("div",null,[(0,e.bF)(a)])}]]),l=JSON.parse('{"path":"/components/progress_goal/","title":"Progress Goal","lang":"ru-RU","frontmatter":{"title":"Progress Goal","article":false,"feed":false,"sitemap":false,"gitInclude":[]},"headers":[],"git":{},"readingTime":{"minutes":0,"words":1},"filePathRelative":null}')},2410:(n,s,a)=>{a.r(s),a.d(s,{comp:()=>i,data:()=>l});var e=a(641);const t={},i=(0,a(6262).A)(t,[["render",function(n,s){const a=(0,e.g2)("Catalog");return(0,e.uX)(),(0,e.CE)("div",null,[(0,e.bF)(a)])}]]),l=JSON.parse('{"path":"/demo/","title":"Демо","lang":"ru-RU","frontmatter":{"author":"David Khoperiya","title":"Демо","date":"2024-04-18T00:00:00.000Z","editLink":false,"pageview":false,"copyright":false,"footer":"Ozon.FinTech © 2024-2024 All rights reserved."},"headers":[],"git":{"createdTime":1713563257000,"updatedTime":1713563257000,"contributors":[{"name":"dkhoperiya","email":"dkhoperiya@ozon.ru","commits":1}]},"readingTime":{"minutes":0.08,"words":24},"filePathRelative":"demo/README.md","localizedDate":"18 апреля 2024 г."}')},4298:(n,s,a)=>{a.r(s),a.d(s,{comp:()=>i,data:()=>l});var e=a(641);const t={},i=(0,a(6262).A)(t,[["render",function(n,s){return(0,e.uX)(),(0,e.CE)("div")}]]),l=JSON.parse('{"path":"/","title":"Главная","lang":"ru-RU","frontmatter":{"home":true,"icon":"home","title":"Главная","heroImage":"/assets/image/ozi-doc.svg","bgImage":"/assets/image/Light_03.png","bgImageStyle":{"background-attachment":"fixed"},"heroText":"FDEI Docs","tagline":"Единая точка входа для описания инженерных решений.","highlights":[{"header":"Компонентные решения","description":"Автоматизация критических процессов и библиотеки","color":"white","image":"/assets/image/ozi-component.svg","bgImage":"/assets/image/Blue_03.png","features":[{"title":"Daily Reporting 2.0","icon":"file","details":"Отправка отчетности","link":"/components/daily_reporting/overview"},{"title":"CDM/DDS","icon":"table","details":"Формирование отчетности","link":"/components/cdm_dds/overview"},{"title":"Progres Goal","icon":"clipboard-check","details":"Прогресс голов","link":"/components/progress_goal/overview"},{"title":"Event Log","icon":"user","details":"Логирование событий","link":"/components/event_log/overview"},{"title":"Data Quality","icon":"user","details":"Контроль качества данных","link":"/components/data_quality/overview"}]},{"header":"Операторы Apache Airflow","description":"Типовые классы для LowCode разработки DAG\'ов","image":"/assets/image/ozi-operators.svg","color":"white","bgImage":"/assets/image/Dark_03.png","features":[{"title":"VerticaOperator","details":"Выполнение запросов в Vertica","link":"/operators/vertica_operator/overview"},{"title":"ClickHouseOperator","details":"Выполнение запросов в ClickHouse","link":"/operators/clikhouse_operator/overview"},{"title":"ClickHouseToVerticaOperator","details":"Перенос данных из ClickHouse в Vertica","link":"/operators/clikhouse_to_vertica_operator/overview"},{"title":"S3ToVerticaOperator","details":"Перенос данных из S3 в Vertica","link":"/operators/s3_to_vertica_operator/overview"},{"title":"VerticaToS3Operator","details":"Перенос данных из Vertica в S3","link":"/operators/vertica_to_s3_operator/overview"}]}],"copyright":false,"footer":"Ozon.FinTech © 2024-2024 All rights reserved."},"headers":[],"git":{"createdTime":1713533928000,"updatedTime":1713641916000,"contributors":[{"name":"dkhoperiya","email":"dkhoperiya@ozon.ru","commits":3}]},"readingTime":{"minutes":0.59,"words":176},"filePathRelative":"README.md","localizedDate":"19 апреля 2024 г."}')},5843:(n,s,a)=>{a.r(s),a.d(s,{comp:()=>l,data:()=>c});var e=a(641);const t=[(0,e.Fv)('<hr><h2 id="title-quick-start" tabindex="-1"><a class="header-anchor" href="#title-quick-start"><span>title: Quick Start</span></a></h2><p>Данный раздел поможет вам быстро создать простой отчет с базовыми настройками на основании компоненты Daily Reporting 2.0.</p><h2 id="инициализация-dag-a-продукта" tabindex="-1"><a class="header-anchor" href="#инициализация-dag-a-продукта"><span>Инициализация DAG&#39;a продукта</span></a></h2><p>Для инициализации DAG&#39;а продукта необходимо создать конфиг-словарь и указать в нем:</p><ul><li>Наименование продукта</li><li>Логин ответственного аналитика</li><li>Дата начала формирования отчетов</li><li>Список отчетов</li></ul><div class="language-python line-numbers-mode" data-ext="py" data-title="py"><pre class="language-python"><code>super_credit_reports <span class="token operator">=</span> <span class="token punctuation">{</span>\n    <span class="token string">&quot;product_name&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;super_credit&quot;</span><span class="token punctuation">,</span> \n    <span class="token string">&quot;owner&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;ivivanov&quot;</span><span class="token punctuation">,</span>          \n    <span class="token string">&quot;start_date&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;2024-04-16&quot;</span><span class="token punctuation">,</span>    \n    <span class="token string">&quot;reports&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>             \n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>❗ Не оставляйте в ключе <code>reports</code> пустой массив, это вызовет ошибку парсинга и формирования DAG&#39;а.</p></blockquote><h2 id="регистрация-нового-отчета" tabindex="-1"><a class="header-anchor" href="#регистрация-нового-отчета"><span>Регистрация нового отчета</span></a></h2><p>Для регистрации нового отчета необходимо указать:</p><ul><li>Наименование отчета</li><li>Имя канала, в который будет отправляться отчет</li><li>Список необходимых метрик</li></ul><div class="language-python line-numbers-mode" data-ext="py" data-title="py"><pre class="language-python"><code>super_credit_reports <span class="token operator">=</span> <span class="token punctuation">{</span>\n    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">,</span>    \n    <span class="token string">&quot;reports&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>\n \t\t<span class="token punctuation">{</span>\n\t\t\t<span class="token string">&quot;report_name&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;Super Credit Metrics&quot;</span><span class="token punctuation">,</span>\n            <span class="token string">&quot;channel_name&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;super_credit_mm_channel&quot;</span><span class="token punctuation">,</span>\n            <span class="token string">&quot;metrics&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>\n\t\t<span class="token punctuation">}</span><span class="token punctuation">,</span>\n\t<span class="token punctuation">]</span>             \n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>❗ Не оставляйте в ключе <code>metrics</code> пустой массив, это вызовет ошибку парсинга и формирования DAG&#39;а.</p></blockquote><h2 id="добавление-метрики" tabindex="-1"><a class="header-anchor" href="#добавление-метрики"><span>Добавление метрики</span></a></h2><p>Для добавления метрики необходимо указать:</p><p>Наименование метрики</p><ul><li>Идентификатор продукта</li><li>Наименование таблицы и столбца, где хранится значение метрики</li><li>Порядковый номер метрики в отчете</li></ul><div class="language-python line-numbers-mode" data-ext="py" data-title="py"><pre class="language-python"><code>super_credit_reports <span class="token operator">=</span> <span class="token punctuation">{</span>\n    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">,</span>    \n    <span class="token string">&quot;reports&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>\n \t\t<span class="token punctuation">{</span>\n                    <span class="token string">&quot;metrics&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>\n    \t                <span class="token punctuation">{</span>\n                            <span class="token string">&quot;metric_name&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;Количество богатых людей&quot;</span><span class="token punctuation">,</span>\n                            <span class="token string">&quot;product_id&quot;</span><span class="token punctuation">:</span> <span class="token number">999</span><span class="token punctuation">,</span>\n                            <span class="token string">&quot;query&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>\n                                <span class="token string">&quot;column_name&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;cr_covered_to_cities_presence&quot;</span><span class="token punctuation">,</span>\n                                <span class="token string">&quot;table_name&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;fintech_mart_team.cdm_logistic_clients_coverage_daily&quot;</span><span class="token punctuation">,</span>\n                            <span class="token punctuation">}</span><span class="token punctuation">,</span>\n                            <span class="token string">&quot;appearance&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>\n                                <span class="token string">&quot;priority&quot;</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>\n                            <span class="token punctuation">}</span><span class="token punctuation">,</span>\n                        <span class="token punctuation">}</span><span class="token punctuation">,</span>\n\t\t    <span class="token punctuation">]</span>\n\t\t<span class="token punctuation">}</span><span class="token punctuation">,</span>\n\t<span class="token punctuation">]</span>             \n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="активация-dag-a-продукта" tabindex="-1"><a class="header-anchor" href="#активация-dag-a-продукта"><span>Активация DAG&#39;a продукта</span></a></h2><p>Для активации DAG&#39;а продукта необходимо добавить его в список <code>active_daily_reports</code> и сделать merge изменений в master ветку.</p><div class="language-python line-numbers-mode" data-ext="py" data-title="py"><pre class="language-python"><code>active_daily_reports <span class="token operator">=</span> <span class="token punctuation">[</span>\n    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">,</span>\n \tsuper_credit_reports\n<span class="token punctuation">]</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="запуск-dag-а-в-airflow-ui" tabindex="-1"><a class="header-anchor" href="#запуск-dag-а-в-airflow-ui"><span>Запуск DAG&#39;а в Airflow UI</span></a></h1><p>После успешного создания нового DAG&#39;а продукта и отчета в нем вы свой DAG, который следует запустить для отправки отчета в указанный канал MatterMost.</p><h1 id="проверка-отчета" tabindex="-1"><a class="header-anchor" href="#проверка-отчета"><span>Проверка отчета</span></a></h1><p>После завершения выполнения DAG&#39;а в выбранный ранее канал MatterMost прийдет готовый отчет за конкретную дату с настройками по-умолчанию.</p><blockquote><p>💡 Хоть мы и не указывали комментарий к отчету, он сгенерировался автоматически, а сам отчет без указания конкретных аналитических срезов использует все доступные срезы по умолчанию.</p></blockquote><h1 id="что-дальше" tabindex="-1"><a class="header-anchor" href="#что-дальше"><span>Что дальше?</span></a></h1><p>С этого момента вы можете перейти в раздел 3. User Guide (Daily Reporting 2.0) для знакомства с дополнительными возможностями настройки отчетов Daily Reporting.</p>',28)],i={},l=(0,a(6262).A)(i,[["render",function(n,s){return(0,e.uX)(),(0,e.CE)("div",null,t)}]]),c=JSON.parse('{"path":"/operators/","title":"Quick Start","lang":"ru-RU","frontmatter":{"title":"Quick Start","icon":"lightbulb"},"headers":[{"level":2,"title":"title: Quick Start","slug":"title-quick-start","link":"#title-quick-start","children":[]},{"level":2,"title":"Инициализация DAG\'a продукта","slug":"инициализация-dag-a-продукта","link":"#инициализация-dag-a-продукта","children":[]},{"level":2,"title":"Регистрация нового отчета","slug":"регистрация-нового-отчета","link":"#регистрация-нового-отчета","children":[]},{"level":2,"title":"Добавление метрики","slug":"добавление-метрики","link":"#добавление-метрики","children":[]},{"level":2,"title":"Активация DAG\'a продукта","slug":"активация-dag-a-продукта","link":"#активация-dag-a-продукта","children":[]}],"git":{"createdTime":1713533928000,"updatedTime":1713641916000,"contributors":[{"name":"dkhoperiya","email":"dkhoperiya@ozon.ru","commits":1}]},"readingTime":{"minutes":1,"words":300},"filePathRelative":"operators/README.md","localizedDate":"19 апреля 2024 г."}')}}]);